<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>介绍 | Web Docs</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="一份以手册为主的 Web 开发文档">
    
    <link rel="preload" href="/assets/css/0.styles.b2b5e418.css" as="style"><link rel="preload" href="/assets/js/app.a0f576ea.js" as="script"><link rel="preload" href="/assets/js/2.8a7b7341.js" as="script"><link rel="preload" href="/assets/js/11.24a58a76.js" as="script"><link rel="prefetch" href="/assets/js/10.8691d13a.js"><link rel="prefetch" href="/assets/js/100.28a4d843.js"><link rel="prefetch" href="/assets/js/101.1987a653.js"><link rel="prefetch" href="/assets/js/102.3c40a783.js"><link rel="prefetch" href="/assets/js/103.aeb1ac63.js"><link rel="prefetch" href="/assets/js/104.95ff8caa.js"><link rel="prefetch" href="/assets/js/105.4d769fd5.js"><link rel="prefetch" href="/assets/js/106.948d31cf.js"><link rel="prefetch" href="/assets/js/107.3eedf9fa.js"><link rel="prefetch" href="/assets/js/108.31ea3f26.js"><link rel="prefetch" href="/assets/js/109.94dc3ed4.js"><link rel="prefetch" href="/assets/js/110.ef4f2f03.js"><link rel="prefetch" href="/assets/js/111.381c76e0.js"><link rel="prefetch" href="/assets/js/112.cb46ecc7.js"><link rel="prefetch" href="/assets/js/113.77b13509.js"><link rel="prefetch" href="/assets/js/114.550111ed.js"><link rel="prefetch" href="/assets/js/115.3c7badd8.js"><link rel="prefetch" href="/assets/js/116.cb183e9f.js"><link rel="prefetch" href="/assets/js/117.e2b540d3.js"><link rel="prefetch" href="/assets/js/118.757d9e18.js"><link rel="prefetch" href="/assets/js/119.98a2e4b4.js"><link rel="prefetch" href="/assets/js/12.6b3d6124.js"><link rel="prefetch" href="/assets/js/120.0fc855b3.js"><link rel="prefetch" href="/assets/js/121.0eff55cf.js"><link rel="prefetch" href="/assets/js/122.49658f58.js"><link rel="prefetch" href="/assets/js/123.2a143813.js"><link rel="prefetch" href="/assets/js/124.6a8941d5.js"><link rel="prefetch" href="/assets/js/125.859cc0c2.js"><link rel="prefetch" href="/assets/js/126.f537e3e9.js"><link rel="prefetch" href="/assets/js/127.5e6290c2.js"><link rel="prefetch" href="/assets/js/128.95c74c0c.js"><link rel="prefetch" href="/assets/js/129.423c42e0.js"><link rel="prefetch" href="/assets/js/13.550daa4c.js"><link rel="prefetch" href="/assets/js/130.ad6b9236.js"><link rel="prefetch" href="/assets/js/131.22dab9f5.js"><link rel="prefetch" href="/assets/js/132.17cc94e5.js"><link rel="prefetch" href="/assets/js/133.79d2c601.js"><link rel="prefetch" href="/assets/js/134.e6eb9636.js"><link rel="prefetch" href="/assets/js/135.a151b97c.js"><link rel="prefetch" href="/assets/js/136.5a9c1615.js"><link rel="prefetch" href="/assets/js/137.e9d2a537.js"><link rel="prefetch" href="/assets/js/138.10987db9.js"><link rel="prefetch" href="/assets/js/139.8f424792.js"><link rel="prefetch" href="/assets/js/14.9ff72da4.js"><link rel="prefetch" href="/assets/js/140.7d3658db.js"><link rel="prefetch" href="/assets/js/141.244e46e9.js"><link rel="prefetch" href="/assets/js/142.b3f6ee1c.js"><link rel="prefetch" href="/assets/js/143.e899ae4d.js"><link rel="prefetch" href="/assets/js/144.960dc2b0.js"><link rel="prefetch" href="/assets/js/145.c8990aaa.js"><link rel="prefetch" href="/assets/js/146.407d4ccc.js"><link rel="prefetch" href="/assets/js/147.22b6cf44.js"><link rel="prefetch" href="/assets/js/148.8bddcb64.js"><link rel="prefetch" href="/assets/js/149.ab525691.js"><link rel="prefetch" href="/assets/js/15.41b0fd29.js"><link rel="prefetch" href="/assets/js/150.a0fb390f.js"><link rel="prefetch" href="/assets/js/151.7f6cba86.js"><link rel="prefetch" href="/assets/js/152.b2a6a517.js"><link rel="prefetch" href="/assets/js/153.20d24a16.js"><link rel="prefetch" href="/assets/js/154.17690677.js"><link rel="prefetch" href="/assets/js/155.f0e4cb8e.js"><link rel="prefetch" href="/assets/js/156.c56c1a8b.js"><link rel="prefetch" href="/assets/js/157.e0e0a36b.js"><link rel="prefetch" href="/assets/js/158.e9b171de.js"><link rel="prefetch" href="/assets/js/159.c2c88af6.js"><link rel="prefetch" href="/assets/js/16.0685634a.js"><link rel="prefetch" href="/assets/js/160.e6f0c30e.js"><link rel="prefetch" href="/assets/js/161.4924352c.js"><link rel="prefetch" href="/assets/js/162.06704503.js"><link rel="prefetch" href="/assets/js/163.4707d4a5.js"><link rel="prefetch" href="/assets/js/164.f8e0be5a.js"><link rel="prefetch" href="/assets/js/165.a829a231.js"><link rel="prefetch" href="/assets/js/166.d0015653.js"><link rel="prefetch" href="/assets/js/167.e52e8db6.js"><link rel="prefetch" href="/assets/js/168.2cd4ff61.js"><link rel="prefetch" href="/assets/js/169.39656098.js"><link rel="prefetch" href="/assets/js/17.95405c80.js"><link rel="prefetch" href="/assets/js/170.b7aafec6.js"><link rel="prefetch" href="/assets/js/171.46531e48.js"><link rel="prefetch" href="/assets/js/172.33a12c12.js"><link rel="prefetch" href="/assets/js/173.5cba96ee.js"><link rel="prefetch" href="/assets/js/174.68c3e08a.js"><link rel="prefetch" href="/assets/js/175.3f29ae65.js"><link rel="prefetch" href="/assets/js/176.bdca172e.js"><link rel="prefetch" href="/assets/js/177.7b2a7d98.js"><link rel="prefetch" href="/assets/js/178.19498d3f.js"><link rel="prefetch" href="/assets/js/179.d708b13b.js"><link rel="prefetch" href="/assets/js/18.de8cf438.js"><link rel="prefetch" href="/assets/js/180.1fb9faeb.js"><link rel="prefetch" href="/assets/js/181.41132774.js"><link rel="prefetch" href="/assets/js/182.b75cd986.js"><link rel="prefetch" href="/assets/js/183.a96659c6.js"><link rel="prefetch" href="/assets/js/184.81639f3e.js"><link rel="prefetch" href="/assets/js/185.69e17eee.js"><link rel="prefetch" href="/assets/js/186.56e2eb73.js"><link rel="prefetch" href="/assets/js/187.fdd37042.js"><link rel="prefetch" href="/assets/js/188.a26232c6.js"><link rel="prefetch" href="/assets/js/189.b4e5a97b.js"><link rel="prefetch" href="/assets/js/19.2a37571c.js"><link rel="prefetch" href="/assets/js/190.98e633e0.js"><link rel="prefetch" href="/assets/js/191.264501ed.js"><link rel="prefetch" href="/assets/js/192.15c16064.js"><link rel="prefetch" href="/assets/js/193.db924a5f.js"><link rel="prefetch" href="/assets/js/194.010dbbe1.js"><link rel="prefetch" href="/assets/js/195.66587504.js"><link rel="prefetch" href="/assets/js/196.9f5cd003.js"><link rel="prefetch" href="/assets/js/197.4868f23e.js"><link rel="prefetch" href="/assets/js/198.02c98145.js"><link rel="prefetch" href="/assets/js/199.c26cb16c.js"><link rel="prefetch" href="/assets/js/20.e77274ef.js"><link rel="prefetch" href="/assets/js/200.151fd697.js"><link rel="prefetch" href="/assets/js/201.da5ce221.js"><link rel="prefetch" href="/assets/js/202.f6374eff.js"><link rel="prefetch" href="/assets/js/203.ddee0d21.js"><link rel="prefetch" href="/assets/js/204.d53d35b4.js"><link rel="prefetch" href="/assets/js/205.662ddf19.js"><link rel="prefetch" href="/assets/js/206.3f42965f.js"><link rel="prefetch" href="/assets/js/207.b71445cf.js"><link rel="prefetch" href="/assets/js/208.66abdbf0.js"><link rel="prefetch" href="/assets/js/209.2101491e.js"><link rel="prefetch" href="/assets/js/21.bf7a9875.js"><link rel="prefetch" href="/assets/js/210.ff17b31b.js"><link rel="prefetch" href="/assets/js/211.bf0b3988.js"><link rel="prefetch" href="/assets/js/212.620f2415.js"><link rel="prefetch" href="/assets/js/213.2dbb81f5.js"><link rel="prefetch" href="/assets/js/214.c35749f1.js"><link rel="prefetch" href="/assets/js/215.dcd2d3e2.js"><link rel="prefetch" href="/assets/js/216.1fc5584b.js"><link rel="prefetch" href="/assets/js/217.6f50162f.js"><link rel="prefetch" href="/assets/js/218.f66436a3.js"><link rel="prefetch" href="/assets/js/219.0b7620fa.js"><link rel="prefetch" href="/assets/js/22.1cc3e1e9.js"><link rel="prefetch" href="/assets/js/220.3c704bfb.js"><link rel="prefetch" href="/assets/js/221.72d3d98e.js"><link rel="prefetch" href="/assets/js/222.4302154c.js"><link rel="prefetch" href="/assets/js/223.3e3e982c.js"><link rel="prefetch" href="/assets/js/224.d52d9812.js"><link rel="prefetch" href="/assets/js/225.6a262d9c.js"><link rel="prefetch" href="/assets/js/226.0bef7d15.js"><link rel="prefetch" href="/assets/js/227.885cd890.js"><link rel="prefetch" href="/assets/js/228.8a23c099.js"><link rel="prefetch" href="/assets/js/229.876e1ec3.js"><link rel="prefetch" href="/assets/js/23.0cd1d788.js"><link rel="prefetch" href="/assets/js/230.61461e8a.js"><link rel="prefetch" href="/assets/js/231.70259c5c.js"><link rel="prefetch" href="/assets/js/232.e9ed9cf2.js"><link rel="prefetch" href="/assets/js/233.ec872f45.js"><link rel="prefetch" href="/assets/js/234.8ddb6b6d.js"><link rel="prefetch" href="/assets/js/235.0a494c2f.js"><link rel="prefetch" href="/assets/js/236.ff4a940e.js"><link rel="prefetch" href="/assets/js/237.590c3464.js"><link rel="prefetch" href="/assets/js/238.cfbc0df8.js"><link rel="prefetch" href="/assets/js/239.52cf7f56.js"><link rel="prefetch" href="/assets/js/24.bd36bb07.js"><link rel="prefetch" href="/assets/js/240.afe004e0.js"><link rel="prefetch" href="/assets/js/241.a1ad8045.js"><link rel="prefetch" href="/assets/js/242.15355e3f.js"><link rel="prefetch" href="/assets/js/243.bd20d6ae.js"><link rel="prefetch" href="/assets/js/244.68a8ba5e.js"><link rel="prefetch" href="/assets/js/245.11c5b7db.js"><link rel="prefetch" href="/assets/js/246.19d6b0fd.js"><link rel="prefetch" href="/assets/js/247.398921f8.js"><link rel="prefetch" href="/assets/js/248.9339fdfe.js"><link rel="prefetch" href="/assets/js/249.caeab032.js"><link rel="prefetch" href="/assets/js/25.c1ee30d3.js"><link rel="prefetch" href="/assets/js/250.37442400.js"><link rel="prefetch" href="/assets/js/251.ca8c998b.js"><link rel="prefetch" href="/assets/js/252.aa34ca41.js"><link rel="prefetch" href="/assets/js/253.b602e827.js"><link rel="prefetch" href="/assets/js/254.96e3f648.js"><link rel="prefetch" href="/assets/js/255.e695d673.js"><link rel="prefetch" href="/assets/js/256.52a75c7f.js"><link rel="prefetch" href="/assets/js/257.07126ae9.js"><link rel="prefetch" href="/assets/js/258.62899067.js"><link rel="prefetch" href="/assets/js/259.c6d98f9a.js"><link rel="prefetch" href="/assets/js/26.f1f05683.js"><link rel="prefetch" href="/assets/js/260.3c1c7c71.js"><link rel="prefetch" href="/assets/js/261.4b49f995.js"><link rel="prefetch" href="/assets/js/262.b7be2d1b.js"><link rel="prefetch" href="/assets/js/263.ee64df4e.js"><link rel="prefetch" href="/assets/js/264.0d232e80.js"><link rel="prefetch" href="/assets/js/265.5c2de63f.js"><link rel="prefetch" href="/assets/js/266.41ba3223.js"><link rel="prefetch" href="/assets/js/267.645e86ca.js"><link rel="prefetch" href="/assets/js/268.ae61d96d.js"><link rel="prefetch" href="/assets/js/269.54eaad33.js"><link rel="prefetch" href="/assets/js/27.58dd02d0.js"><link rel="prefetch" href="/assets/js/270.101ca96d.js"><link rel="prefetch" href="/assets/js/271.87dea596.js"><link rel="prefetch" href="/assets/js/272.a14bcb00.js"><link rel="prefetch" href="/assets/js/273.1365c36a.js"><link rel="prefetch" href="/assets/js/274.cd3a8605.js"><link rel="prefetch" href="/assets/js/275.e73443b2.js"><link rel="prefetch" href="/assets/js/276.7aa7f554.js"><link rel="prefetch" href="/assets/js/277.dabb3dc9.js"><link rel="prefetch" href="/assets/js/278.ca27fbc9.js"><link rel="prefetch" href="/assets/js/279.4f77e3c2.js"><link rel="prefetch" href="/assets/js/28.9c1b7e13.js"><link rel="prefetch" href="/assets/js/280.bfe43594.js"><link rel="prefetch" href="/assets/js/281.15948a71.js"><link rel="prefetch" href="/assets/js/282.a6923681.js"><link rel="prefetch" href="/assets/js/283.c4a886fb.js"><link rel="prefetch" href="/assets/js/284.a87176e1.js"><link rel="prefetch" href="/assets/js/285.b6fe4f81.js"><link rel="prefetch" href="/assets/js/286.c8bd480e.js"><link rel="prefetch" href="/assets/js/287.8be06b51.js"><link rel="prefetch" href="/assets/js/288.a73f764d.js"><link rel="prefetch" href="/assets/js/289.d0fa6398.js"><link rel="prefetch" href="/assets/js/29.37256cff.js"><link rel="prefetch" href="/assets/js/290.83b35938.js"><link rel="prefetch" href="/assets/js/291.0b387ccb.js"><link rel="prefetch" href="/assets/js/292.5d16a9fd.js"><link rel="prefetch" href="/assets/js/293.152a1bef.js"><link rel="prefetch" href="/assets/js/294.a5b74c4f.js"><link rel="prefetch" href="/assets/js/295.aec4c981.js"><link rel="prefetch" href="/assets/js/296.9e8eb3b2.js"><link rel="prefetch" href="/assets/js/297.33d18d60.js"><link rel="prefetch" href="/assets/js/298.30f7170a.js"><link rel="prefetch" href="/assets/js/299.8d48a6d1.js"><link rel="prefetch" href="/assets/js/3.ef27cbac.js"><link rel="prefetch" href="/assets/js/30.38cca7e8.js"><link rel="prefetch" href="/assets/js/300.f58fe408.js"><link rel="prefetch" href="/assets/js/301.06cc2e0d.js"><link rel="prefetch" href="/assets/js/302.2ac576df.js"><link rel="prefetch" href="/assets/js/303.001f957a.js"><link rel="prefetch" href="/assets/js/304.0fce19d2.js"><link rel="prefetch" href="/assets/js/305.2164b482.js"><link rel="prefetch" href="/assets/js/306.b6b1ed1f.js"><link rel="prefetch" href="/assets/js/307.f0f145c7.js"><link rel="prefetch" href="/assets/js/308.e22f6b5a.js"><link rel="prefetch" href="/assets/js/309.6cb832b2.js"><link rel="prefetch" href="/assets/js/31.4d1043fa.js"><link rel="prefetch" href="/assets/js/310.953282c7.js"><link rel="prefetch" href="/assets/js/311.3f3fbe40.js"><link rel="prefetch" href="/assets/js/312.d2bbc95b.js"><link rel="prefetch" href="/assets/js/313.30efc16f.js"><link rel="prefetch" href="/assets/js/314.f5e01d63.js"><link rel="prefetch" href="/assets/js/315.62c5f03d.js"><link rel="prefetch" href="/assets/js/316.90fa9ed9.js"><link rel="prefetch" href="/assets/js/317.b0f67018.js"><link rel="prefetch" href="/assets/js/318.14ff8b52.js"><link rel="prefetch" href="/assets/js/319.b9930f81.js"><link rel="prefetch" href="/assets/js/32.0e6c0370.js"><link rel="prefetch" href="/assets/js/320.ef6d3ec4.js"><link rel="prefetch" href="/assets/js/321.e5acb585.js"><link rel="prefetch" href="/assets/js/322.21a46169.js"><link rel="prefetch" href="/assets/js/323.e516c3c1.js"><link rel="prefetch" href="/assets/js/324.fc384d55.js"><link rel="prefetch" href="/assets/js/325.fddd4d1f.js"><link rel="prefetch" href="/assets/js/326.1216d7e6.js"><link rel="prefetch" href="/assets/js/327.5a509ea2.js"><link rel="prefetch" href="/assets/js/328.96e654ce.js"><link rel="prefetch" href="/assets/js/329.6490bb93.js"><link rel="prefetch" href="/assets/js/33.0b8f77e2.js"><link rel="prefetch" href="/assets/js/330.a5544969.js"><link rel="prefetch" href="/assets/js/331.1256acf2.js"><link rel="prefetch" href="/assets/js/332.77552d0d.js"><link rel="prefetch" href="/assets/js/333.b6118fe6.js"><link rel="prefetch" href="/assets/js/334.05c640d3.js"><link rel="prefetch" href="/assets/js/335.04fe4ec2.js"><link rel="prefetch" href="/assets/js/336.26be0b24.js"><link rel="prefetch" href="/assets/js/337.a0d3d335.js"><link rel="prefetch" href="/assets/js/338.a4fe11ee.js"><link rel="prefetch" href="/assets/js/339.d47120cc.js"><link rel="prefetch" href="/assets/js/34.2f5e6742.js"><link rel="prefetch" href="/assets/js/340.7a58ee44.js"><link rel="prefetch" href="/assets/js/341.e61bd730.js"><link rel="prefetch" href="/assets/js/342.9d4bf67a.js"><link rel="prefetch" href="/assets/js/343.501962dc.js"><link rel="prefetch" href="/assets/js/344.ce3275c8.js"><link rel="prefetch" href="/assets/js/345.628fe9bc.js"><link rel="prefetch" href="/assets/js/346.0e49381a.js"><link rel="prefetch" href="/assets/js/347.dabb1dad.js"><link rel="prefetch" href="/assets/js/348.29817914.js"><link rel="prefetch" href="/assets/js/349.6e298ba8.js"><link rel="prefetch" href="/assets/js/35.20e83899.js"><link rel="prefetch" href="/assets/js/350.91f21476.js"><link rel="prefetch" href="/assets/js/351.5b581bd3.js"><link rel="prefetch" href="/assets/js/352.45a6a379.js"><link rel="prefetch" href="/assets/js/353.6d639f09.js"><link rel="prefetch" href="/assets/js/354.5a17e2f0.js"><link rel="prefetch" href="/assets/js/355.719bfa5a.js"><link rel="prefetch" href="/assets/js/356.33e6d239.js"><link rel="prefetch" href="/assets/js/357.209a59e5.js"><link rel="prefetch" href="/assets/js/358.32ef7d43.js"><link rel="prefetch" href="/assets/js/359.b318203e.js"><link rel="prefetch" href="/assets/js/36.772901c4.js"><link rel="prefetch" href="/assets/js/360.a1aa990b.js"><link rel="prefetch" href="/assets/js/361.30f9ac52.js"><link rel="prefetch" href="/assets/js/362.ab4a7269.js"><link rel="prefetch" href="/assets/js/363.573581ce.js"><link rel="prefetch" href="/assets/js/364.ea4b3381.js"><link rel="prefetch" href="/assets/js/365.74cce6af.js"><link rel="prefetch" href="/assets/js/366.920816b1.js"><link rel="prefetch" href="/assets/js/367.e7f7ec5b.js"><link rel="prefetch" href="/assets/js/368.fd3e4f57.js"><link rel="prefetch" href="/assets/js/369.8658b369.js"><link rel="prefetch" href="/assets/js/37.ae1a2a4a.js"><link rel="prefetch" href="/assets/js/370.5d9237ce.js"><link rel="prefetch" href="/assets/js/371.475db0bd.js"><link rel="prefetch" href="/assets/js/372.a63267bb.js"><link rel="prefetch" href="/assets/js/373.300c140d.js"><link rel="prefetch" href="/assets/js/374.3991ef47.js"><link rel="prefetch" href="/assets/js/375.3a151889.js"><link rel="prefetch" href="/assets/js/376.155192c5.js"><link rel="prefetch" href="/assets/js/377.2cb4647b.js"><link rel="prefetch" href="/assets/js/378.413266f8.js"><link rel="prefetch" href="/assets/js/379.b9d8217c.js"><link rel="prefetch" href="/assets/js/38.f72f42bd.js"><link rel="prefetch" href="/assets/js/380.38c60295.js"><link rel="prefetch" href="/assets/js/381.6f6ca9a3.js"><link rel="prefetch" href="/assets/js/382.09f8537e.js"><link rel="prefetch" href="/assets/js/383.cf560d98.js"><link rel="prefetch" href="/assets/js/384.ee7a21e3.js"><link rel="prefetch" href="/assets/js/385.9dc79de9.js"><link rel="prefetch" href="/assets/js/386.907326f4.js"><link rel="prefetch" href="/assets/js/387.d1e350d8.js"><link rel="prefetch" href="/assets/js/388.81d91e3a.js"><link rel="prefetch" href="/assets/js/389.6eb5097c.js"><link rel="prefetch" href="/assets/js/39.6ec3b0ba.js"><link rel="prefetch" href="/assets/js/390.59503d27.js"><link rel="prefetch" href="/assets/js/391.c3d27d8f.js"><link rel="prefetch" href="/assets/js/392.ad4becb1.js"><link rel="prefetch" href="/assets/js/393.fdc72691.js"><link rel="prefetch" href="/assets/js/394.0f637dbc.js"><link rel="prefetch" href="/assets/js/395.05a6897d.js"><link rel="prefetch" href="/assets/js/396.8e5e0990.js"><link rel="prefetch" href="/assets/js/397.4110b833.js"><link rel="prefetch" href="/assets/js/398.28fb56aa.js"><link rel="prefetch" href="/assets/js/399.893fcf6d.js"><link rel="prefetch" href="/assets/js/4.ed7772fd.js"><link rel="prefetch" href="/assets/js/40.64c56a23.js"><link rel="prefetch" href="/assets/js/400.c88c4b4e.js"><link rel="prefetch" href="/assets/js/401.2a3fd250.js"><link rel="prefetch" href="/assets/js/402.e0e5ccb5.js"><link rel="prefetch" href="/assets/js/403.8b8e1c4e.js"><link rel="prefetch" href="/assets/js/404.58276bee.js"><link rel="prefetch" href="/assets/js/405.982510c9.js"><link rel="prefetch" href="/assets/js/406.bc50b634.js"><link rel="prefetch" href="/assets/js/407.781c59e6.js"><link rel="prefetch" href="/assets/js/408.30eed933.js"><link rel="prefetch" href="/assets/js/409.bc9777c1.js"><link rel="prefetch" href="/assets/js/41.0e462988.js"><link rel="prefetch" href="/assets/js/410.07463ff2.js"><link rel="prefetch" href="/assets/js/411.04167034.js"><link rel="prefetch" href="/assets/js/412.a013ec19.js"><link rel="prefetch" href="/assets/js/413.bb6efe54.js"><link rel="prefetch" href="/assets/js/414.e330d0f2.js"><link rel="prefetch" href="/assets/js/415.a1f936b2.js"><link rel="prefetch" href="/assets/js/416.128ae43e.js"><link rel="prefetch" href="/assets/js/417.21e8daf7.js"><link rel="prefetch" href="/assets/js/418.aa709e52.js"><link rel="prefetch" href="/assets/js/419.b0f307de.js"><link rel="prefetch" href="/assets/js/42.ec6c4fb9.js"><link rel="prefetch" href="/assets/js/420.89a47904.js"><link rel="prefetch" href="/assets/js/421.74b93419.js"><link rel="prefetch" href="/assets/js/422.c72cd71d.js"><link rel="prefetch" href="/assets/js/423.7390a522.js"><link rel="prefetch" href="/assets/js/424.a22da308.js"><link rel="prefetch" href="/assets/js/425.1546bf88.js"><link rel="prefetch" href="/assets/js/426.22b6351a.js"><link rel="prefetch" href="/assets/js/427.fc6ed465.js"><link rel="prefetch" href="/assets/js/428.4d4e5449.js"><link rel="prefetch" href="/assets/js/429.a46d4bf7.js"><link rel="prefetch" href="/assets/js/43.c916fbdc.js"><link rel="prefetch" href="/assets/js/430.8673a4a0.js"><link rel="prefetch" href="/assets/js/431.bb88c9ed.js"><link rel="prefetch" href="/assets/js/432.302085d7.js"><link rel="prefetch" href="/assets/js/433.a709fb96.js"><link rel="prefetch" href="/assets/js/434.0bf597e1.js"><link rel="prefetch" href="/assets/js/435.dfe2f4fb.js"><link rel="prefetch" href="/assets/js/436.16df716f.js"><link rel="prefetch" href="/assets/js/437.c2f0262d.js"><link rel="prefetch" href="/assets/js/438.cb71e7f2.js"><link rel="prefetch" href="/assets/js/439.5b67dd64.js"><link rel="prefetch" href="/assets/js/44.793c12ca.js"><link rel="prefetch" href="/assets/js/440.6850d762.js"><link rel="prefetch" href="/assets/js/441.08d976da.js"><link rel="prefetch" href="/assets/js/442.ca6dcf58.js"><link rel="prefetch" href="/assets/js/443.383aa102.js"><link rel="prefetch" href="/assets/js/444.2d621540.js"><link rel="prefetch" href="/assets/js/445.99b6514c.js"><link rel="prefetch" href="/assets/js/446.14d3a0f6.js"><link rel="prefetch" href="/assets/js/447.f636c0af.js"><link rel="prefetch" href="/assets/js/448.959e92db.js"><link rel="prefetch" href="/assets/js/449.6df86903.js"><link rel="prefetch" href="/assets/js/45.a041b08a.js"><link rel="prefetch" href="/assets/js/450.9914d79d.js"><link rel="prefetch" href="/assets/js/451.91944e8c.js"><link rel="prefetch" href="/assets/js/452.8c101302.js"><link rel="prefetch" href="/assets/js/453.d5cbfc75.js"><link rel="prefetch" href="/assets/js/454.124c0659.js"><link rel="prefetch" href="/assets/js/455.c4f820cc.js"><link rel="prefetch" href="/assets/js/456.93b9a861.js"><link rel="prefetch" href="/assets/js/457.7d81f5b2.js"><link rel="prefetch" href="/assets/js/458.eca9be2a.js"><link rel="prefetch" href="/assets/js/459.2938c6db.js"><link rel="prefetch" href="/assets/js/46.274f163c.js"><link rel="prefetch" href="/assets/js/460.6d7b8446.js"><link rel="prefetch" href="/assets/js/461.c63cf54b.js"><link rel="prefetch" href="/assets/js/462.a0adf5db.js"><link rel="prefetch" href="/assets/js/463.24c8a1a3.js"><link rel="prefetch" href="/assets/js/464.87af11bd.js"><link rel="prefetch" href="/assets/js/465.8364a6a5.js"><link rel="prefetch" href="/assets/js/466.95efe6e7.js"><link rel="prefetch" href="/assets/js/467.27430f62.js"><link rel="prefetch" href="/assets/js/468.406d77b3.js"><link rel="prefetch" href="/assets/js/469.c5411cc2.js"><link rel="prefetch" href="/assets/js/47.1f3f336c.js"><link rel="prefetch" href="/assets/js/48.60170da4.js"><link rel="prefetch" href="/assets/js/49.a2220e75.js"><link rel="prefetch" href="/assets/js/5.587460cf.js"><link rel="prefetch" href="/assets/js/50.324e4425.js"><link rel="prefetch" href="/assets/js/51.e6fdf020.js"><link rel="prefetch" href="/assets/js/52.6f90fb4b.js"><link rel="prefetch" href="/assets/js/53.97f5f30a.js"><link rel="prefetch" href="/assets/js/54.44aa3524.js"><link rel="prefetch" href="/assets/js/55.797c0470.js"><link rel="prefetch" href="/assets/js/56.659de1e7.js"><link rel="prefetch" href="/assets/js/57.eaacddd3.js"><link rel="prefetch" href="/assets/js/58.e2c76165.js"><link rel="prefetch" href="/assets/js/59.80bd29af.js"><link rel="prefetch" href="/assets/js/6.61cb913b.js"><link rel="prefetch" href="/assets/js/60.447237d4.js"><link rel="prefetch" href="/assets/js/61.eca41165.js"><link rel="prefetch" href="/assets/js/62.517711c0.js"><link rel="prefetch" href="/assets/js/63.2d6d2059.js"><link rel="prefetch" href="/assets/js/64.183fc8c8.js"><link rel="prefetch" href="/assets/js/65.c60890f1.js"><link rel="prefetch" href="/assets/js/66.214142ff.js"><link rel="prefetch" href="/assets/js/67.7690b077.js"><link rel="prefetch" href="/assets/js/68.fc2f0855.js"><link rel="prefetch" href="/assets/js/69.0acc91da.js"><link rel="prefetch" href="/assets/js/7.c376729c.js"><link rel="prefetch" href="/assets/js/70.c5df5bff.js"><link rel="prefetch" href="/assets/js/71.7790906e.js"><link rel="prefetch" href="/assets/js/72.12f9609c.js"><link rel="prefetch" href="/assets/js/73.1edf6c53.js"><link rel="prefetch" href="/assets/js/74.a3dd19b4.js"><link rel="prefetch" href="/assets/js/75.b8429a49.js"><link rel="prefetch" href="/assets/js/76.28351cb7.js"><link rel="prefetch" href="/assets/js/77.d9e03a06.js"><link rel="prefetch" href="/assets/js/78.8decdae6.js"><link rel="prefetch" href="/assets/js/79.6a4e9abe.js"><link rel="prefetch" href="/assets/js/8.5d9428d5.js"><link rel="prefetch" href="/assets/js/80.c9f4c715.js"><link rel="prefetch" href="/assets/js/81.0bab081e.js"><link rel="prefetch" href="/assets/js/82.5a1e59b5.js"><link rel="prefetch" href="/assets/js/83.313f94ef.js"><link rel="prefetch" href="/assets/js/84.c3ab3b5f.js"><link rel="prefetch" href="/assets/js/85.86008475.js"><link rel="prefetch" href="/assets/js/86.2d675ac8.js"><link rel="prefetch" href="/assets/js/87.6095c6d5.js"><link rel="prefetch" href="/assets/js/88.d2341f54.js"><link rel="prefetch" href="/assets/js/89.4b537082.js"><link rel="prefetch" href="/assets/js/9.18666140.js"><link rel="prefetch" href="/assets/js/90.b23c5097.js"><link rel="prefetch" href="/assets/js/91.da4073d4.js"><link rel="prefetch" href="/assets/js/92.1a7dabc2.js"><link rel="prefetch" href="/assets/js/93.8166954c.js"><link rel="prefetch" href="/assets/js/94.9d0a15cd.js"><link rel="prefetch" href="/assets/js/95.668a87ba.js"><link rel="prefetch" href="/assets/js/96.9787316a.js"><link rel="prefetch" href="/assets/js/97.6dbbe41a.js"><link rel="prefetch" href="/assets/js/98.d7b83957.js"><link rel="prefetch" href="/assets/js/99.2d081394.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b2b5e418.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Web Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/algorithm/" class="nav-link">
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/base/computed-network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/base/fundamentals-of-compiling/" class="nav-link">
  编译原理
</a></li><li class="dropdown-item"><!----> <a href="/base/design-patterns/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/base/software-engineering/" class="nav-link">
  软件工程
</a></li><li class="dropdown-item"><!----> <a href="/base/git/" class="nav-link">
  Git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end/html/" class="nav-link router-link-active">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/front-end/html5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/front-end/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/front-end/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/front-end/node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/front-end/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/front-end/engineering/" class="nav-link">
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/front-end/business-related/" class="nav-link">
  开发技巧
</a></li><li class="dropdown-item"><!----> <a href="/front-end/project-setup/" class="nav-link">
  开发流程
</a></li><li class="dropdown-item"><!----> <a href="/front-end/applet/" class="nav-link">
  小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/back-end/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/back-end/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/back-end/mongodb/" class="nav-link">
  MongoDB
</a></li><li class="dropdown-item"><!----> <a href="/back-end/mysql/" class="nav-link">
  MySQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><span class="title">Python</span> <span class="arrow down"></span></button> <button type="button" aria-label="Python" class="mobile-dropdown-title"><span class="title">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/syntax/" class="nav-link">
  语法
</a></li><li class="dropdown-item"><!----> <a href="/python/module/" class="nav-link">
  模块
</a></li><li class="dropdown-item"><!----> <a href="/python/crawler/" class="nav-link">
  爬虫
</a></li><li class="dropdown-item"><!----> <a href="/python/automation/" class="nav-link">
  自动化
</a></li></ul></div></div><div class="nav-item"><a href="/r/" class="nav-link">
  R 语言
</a></div><div class="nav-item"><a href="/post/" class="nav-link">
  博文
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/growth/" class="nav-link">
  保持学习
</a></li><li class="dropdown-item"><!----> <a href="/other/tools/" class="nav-link">
  常用工具
</a></li><li class="dropdown-item"><!----> <a href="/other/editor/" class="nav-link">
  编辑器
</a></li><li class="dropdown-item"><!----> <a href="/other/expect-tech/" class="nav-link">
  技术之外
</a></li><li class="dropdown-item"><!----> <a href="/other/" class="nav-link">
  关于
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/algorithm/" class="nav-link">
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/base/computed-network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/base/fundamentals-of-compiling/" class="nav-link">
  编译原理
</a></li><li class="dropdown-item"><!----> <a href="/base/design-patterns/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/base/software-engineering/" class="nav-link">
  软件工程
</a></li><li class="dropdown-item"><!----> <a href="/base/git/" class="nav-link">
  Git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end/html/" class="nav-link router-link-active">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/front-end/html5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/front-end/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/front-end/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/front-end/node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/front-end/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/front-end/engineering/" class="nav-link">
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/front-end/business-related/" class="nav-link">
  开发技巧
</a></li><li class="dropdown-item"><!----> <a href="/front-end/project-setup/" class="nav-link">
  开发流程
</a></li><li class="dropdown-item"><!----> <a href="/front-end/applet/" class="nav-link">
  小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/back-end/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/back-end/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/back-end/mongodb/" class="nav-link">
  MongoDB
</a></li><li class="dropdown-item"><!----> <a href="/back-end/mysql/" class="nav-link">
  MySQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><span class="title">Python</span> <span class="arrow down"></span></button> <button type="button" aria-label="Python" class="mobile-dropdown-title"><span class="title">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/syntax/" class="nav-link">
  语法
</a></li><li class="dropdown-item"><!----> <a href="/python/module/" class="nav-link">
  模块
</a></li><li class="dropdown-item"><!----> <a href="/python/crawler/" class="nav-link">
  爬虫
</a></li><li class="dropdown-item"><!----> <a href="/python/automation/" class="nav-link">
  自动化
</a></li></ul></div></div><div class="nav-item"><a href="/r/" class="nav-link">
  R 语言
</a></div><div class="nav-item"><a href="/post/" class="nav-link">
  博文
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/growth/" class="nav-link">
  保持学习
</a></li><li class="dropdown-item"><!----> <a href="/other/tools/" class="nav-link">
  常用工具
</a></li><li class="dropdown-item"><!----> <a href="/other/editor/" class="nav-link">
  编辑器
</a></li><li class="dropdown-item"><!----> <a href="/other/expect-tech/" class="nav-link">
  技术之外
</a></li><li class="dropdown-item"><!----> <a href="/other/" class="nav-link">
  关于
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML 标签分类</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front-end/html/categories/base.html" class="sidebar-link">基础类</a></li><li><a href="/front-end/html/categories/layout.html" class="sidebar-link">布局类</a></li><li><a href="/front-end/html/categories/format.html" class="sidebar-link">格式类</a></li><li><a href="/front-end/html/categories/list&amp;table.html" class="sidebar-link">列表/表格类</a></li><li><a href="/front-end/html/categories/form.html" class="sidebar-link">表单类</a></li><li><a href="/front-end/html/categories/media.html" class="sidebar-link">多媒体类</a></li><li><a href="/front-end/html/categories/container.html" class="sidebar-link">容器类</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>HTML5 简介</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front-end/html/html5/tags-change.html" class="sidebar-link">标签的变动</a></li><li><a href="/front-end/html/html5/mathml.html" class="sidebar-link">MathML</a></li><li><a href="/front-end/html/html5/drag.html" class="sidebar-link">Drag &amp; Drop</a></li><li><a href="/front-end/html/html5/audio.html" class="sidebar-link">Audio</a></li><li><a href="/front-end/html/html5/video.html" class="sidebar-link">Video</a></li><li><a href="/front-end/html/html5/canvas.html" class="sidebar-link">Canvas</a></li><li><a href="/front-end/html/html5/svg.html" class="sidebar-link">SVG</a></li><li><a href="/front-end/html/html5/geolocation.html" class="sidebar-link">Geolocation</a></li><li><a href="/front-end/html/html5/storage.html" class="sidebar-link">Storage</a></li><li><a href="/front-end/html/html5/indexeddb.html" aria-current="page" class="active sidebar-link">IndexedDB</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#介绍" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#indexeddb" class="sidebar-link">IndexedDB</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#acid" class="sidebar-link">ACID</a></li></ul></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#使用" class="sidebar-link">使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#使用方式" class="sidebar-link">使用方式</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#连接数据库" class="sidebar-link">连接数据库</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#创建对象仓库" class="sidebar-link">创建对象仓库</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#创建事务" class="sidebar-link">创建事务</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#在对象仓库上操作数据" class="sidebar-link">在对象仓库上操作数据</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#使用游标操作数据" class="sidebar-link">使用游标操作数据</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#使用索引操作数据" class="sidebar-link">使用索引操作数据</a></li></ul></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#一个完整的例子" class="sidebar-link">一个完整的例子</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#api" class="sidebar-link">API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#概述" class="sidebar-link">概述</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#idbenvironment" class="sidebar-link">IDBEnvironment</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#idbversionchangeevent" class="sidebar-link">IDBVersionChangeEvent</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#idbfactory" class="sidebar-link">IDBFactory</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#idbrequest" class="sidebar-link">IDBRequest</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#idbopendbrequest" class="sidebar-link">IDBOpenDBRequest</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#idbdatabase" class="sidebar-link">IDBDatabase</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#idbtransaction" class="sidebar-link">IDBTransaction</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#idbobjectstore" class="sidebar-link">IDBObjectStore</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#idbindex" class="sidebar-link">IDBIndex</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#idbcursor" class="sidebar-link">IDBCursor</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#idbcursorwithvalue" class="sidebar-link">IDBCursorWithValue</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#idbkeyrange" class="sidebar-link">IDBKeyRange</a></li><li class="sidebar-sub-header"><a href="/front-end/html/html5/indexeddb.html#idblocaleawarekeyrange" class="sidebar-link">IDBLocaleAwareKeyRange</a></li></ul></li></ul></li><li><a href="/front-end/html/html5/app-cache.html" class="sidebar-link">AppCache</a></li><li><a href="/front-end/html/html5/service-worker.html" class="sidebar-link">Service Worker</a></li><li><a href="/front-end/html/html5/manifest.html" class="sidebar-link">Manifest</a></li><li><a href="/front-end/html/html5/web-worker.html" class="sidebar-link">Web Worker</a></li><li><a href="/front-end/html/html5/websocket.html" class="sidebar-link">WebSocket</a></li><li><a href="/front-end/html/html5/sse.html" class="sidebar-link">Service-Sent Events</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML 深入</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front-end/html/html.html" class="sidebar-link">HTML</a></li><li><a href="/front-end/html/html5.html" class="sidebar-link">HTML5</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <h3 id="indexeddb"><a href="#indexeddb" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API" target="_blank" rel="noopener noreferrer">IndexedDB<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <ul><li>是一种低级 API，用于客户端存储大量结构化数据(包括文件/blobs)，使用索引来实现对该数据的高性能搜索</li> <li>是一个基于事务操作的 <code>key-value</code> 型数数据库，类似于基于 <code>SQL</code> 的 <code>RDBMS</code></li> <li>是一个基于 <code>JavaScript</code> 的面向对象的数据库</li></ul> <div class="custom-block tip"><p class="custom-block-title">说明：</p> <ul><li><code>Web Storage</code> 只用于存储较少量的数据，<code>IndexedDB</code> 用于存储更大量的结构化数据</li> <li><code>IndexedDB</code> 在 <code>Web Worker</code> 中可用</li> <li><code>IndexedDB</code> 遵守同源策略</li> <li><code>IndexedDB</code> 是异步执行的，不会阻塞应用程序</li></ul></div> <h3 id="acid"><a href="#acid" class="header-anchor">#</a> ACID</h3> <p>数据库事务保证了数据操作的 <code>ACID</code> 特性：</p> <ul><li>原子性(Atomicity)：事务作为一个整体被执行，包含在其中的对数据库的操作要么全部被执行，要么都不执行</li> <li>一致性(Consistency)：事务应确保数据库的状态从一个一致状态转变为另一个一致状态</li> <li>隔离性(Isolation)：多个事务并发执行时，一个事务的执行不应影响其他事务的执行</li> <li>持久性(Durability)：已被提交的事务对数据库的修改应该永久保存在数据库中</li></ul> <div class="custom-block tip"><p class="custom-block-title">说明：</p> <ul><li>简单来说，事务保证数据库操作要么全部成功，要么全部失败。</li></ul></div> <h2 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h2> <p><code>API</code> 参考自 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API" target="_blank" rel="noopener noreferrer">MDN IndexedDB<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，或者本网站整理的 <a href="/appendix/indexeddb-api">API 列表</a>。</p> <h3 id="使用方式"><a href="#使用方式" class="header-anchor">#</a> 使用方式</h3> <p><strong>对数据库的操作一般有以下几种：</strong></p> <p><img src="/assets/img/indexeddb_01.2f38ac81.png" alt="使用方式"></p> <p><strong>操作的步骤可以概括为：</strong></p> <ol><li>创建和连接数据库</li> <li>在 <code>upgradeneeded</code> 事件中管理对象仓库，根据需求管理索引</li> <li>在 <code>success</code> 事件中发起事务</li> <li>获取对象仓库</li> <li>可以直接在对象仓库上操作数据，或者结合游标、索引等筛选遍历数据</li></ol> <h3 id="连接数据库"><a href="#连接数据库" class="header-anchor">#</a> 连接数据库</h3> <p>  使用 <code>window.indexDB</code> 对象的 <code>open()</code> 方法连接一个数据库(当数据库不存在时会创建)，会返回一个 <code>IDBOpenDBRequest</code> 对象：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> request <span class="token operator">=</span> indexDB<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'dbName'</span><span class="token punctuation">)</span>

request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Connect indexedDB success!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Failed to connect indexedDB!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="创建对象仓库"><a href="#创建对象仓库" class="header-anchor">#</a> 创建对象仓库</h3> <p>  对象仓库相当于其他数据库的数据表，用于保存一系列对象数据；但创建对象仓库必须在 <code>upgradeneeded</code> 事件中(因为 <code>indexDB</code> 不允许数据库中的对象仓库在同一版本发生变换)，而 <code>upgradeneeded</code> 事件只会在数据库版本更新时。
  使用 <code>IDBDatabase.createObjectStore()</code> 方法创建一个对象仓库：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> request <span class="token operator">=</span> indexedDB<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'dbName'</span><span class="token punctuation">)</span>

request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'upgradeneeded'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> db <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
  <span class="token comment">// 当对象仓库不存在时，创建一个对象仓库并指定主键为 userId</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token operator">...</span>db<span class="token punctuation">.</span>objectStoreNames<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> store <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">createObjectStore</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> keyPath<span class="token operator">:</span> <span class="token string">'userId'</span><span class="token punctuation">,</span> autoIncrement<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="创建事务"><a href="#创建事务" class="header-anchor">#</a> 创建事务</h3> <p>  创建事务是操作数据前必须的一步，使用 <code>IDBDatabase.transaction()</code> 方法创建一个事务：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> request <span class="token operator">=</span> indexedDB<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'dbName'</span><span class="token punctuation">)</span>

request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> db <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
  <span class="token comment">// 在对象仓库 Users 上以 readwrite 模式发起事务</span>
  <span class="token keyword">const</span> tx <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">,</span> <span class="token string">'readwrite'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="在对象仓库上操作数据"><a href="#在对象仓库上操作数据" class="header-anchor">#</a> 在对象仓库上操作数据</h3> <p>  创建事务后，可以使用事务对象(<code>IDBTransaction</code>)的 <code>objectStore()</code> 方法获取对象仓库，然后在对象仓库上进行操作，一些操作方法：</p> <ul><li><code>add()</code>: 添加数据，数据存在时会报错</li> <li><code>put()</code>: 更改数据，数据不存在时等同于 <code>add()</code></li> <li><code>get()</code>: 获取数据</li> <li><code>delete()</code>: 删除数据</li></ul> <p><strong>示例：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> request <span class="token operator">=</span> indexedDB<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'dbName'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>

request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Connect indexedDB success!'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> db <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
  <span class="token keyword">const</span> tx <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">,</span> <span class="token string">'readwrite'</span><span class="token punctuation">)</span>
  <span class="token comment">// 获取对象仓库</span>
  <span class="token keyword">const</span> store <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">objectStore</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">)</span>

  <span class="token comment">// 数据库操作</span>
  <span class="token keyword">const</span> req <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">'userId'</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'userName'</span><span class="token operator">:</span> <span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token operator">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// const req = store.put({ 'userId': 1, 'userName': 'Alice', 'age': 26 })</span>
  <span class="token comment">// const req = store.get(1)</span>
  <span class="token comment">// const req = store.delete(1)</span>

  <span class="token comment">// 监听数据库操作</span>
  req<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">)</span> <span class="token comment">// { 'userId': 1, 'userName': 'Alice', 'age': 24 }</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="使用游标操作数据"><a href="#使用游标操作数据" class="header-anchor">#</a> 使用游标操作数据</h3> <p>  使用游标能够同时获取和操作多条数据，可以将游标看作是一种遍历的方式。</p> <p>创建游标的方式有：</p> <ul><li><code>IDBObjectStore</code> 实例的 <code>openCursor()</code> 方法</li> <li><code>IDBIndex</code> 实例的 <code>openCursor()</code>/<code>openKeyCursor()</code> 方法</li></ul> <p>这些方法都需要接收一个范围作为参数，创建范围的方法(都是静态方法)有：</p> <ul><li><code>IDBKeyRange.bound()</code></li> <li><code>IDBKeyRange.only()</code></li> <li><code>IDBKeyRange.lowerBound()</code></li> <li><code>IDBKeyRange.upperBound()</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> request <span class="token operator">=</span> indexedDB<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'testDB'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>

request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> db <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
  <span class="token keyword">const</span> tx <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">,</span> <span class="token string">'readonly'</span><span class="token punctuation">)</span> <span class="token comment">// 创建一个事务，模式为只读</span>
  <span class="token keyword">const</span> store <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">objectStore</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">)</span> <span class="token comment">// 获取对象仓库</span>
  <span class="token keyword">const</span> range <span class="token operator">=</span> IDBKeyRange<span class="token punctuation">.</span><span class="token function">lowerBound</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 创建一个范围</span>
  <span class="token keyword">const</span> req <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">openCursor</span><span class="token punctuation">(</span>range<span class="token punctuation">,</span> <span class="token string">'next'</span><span class="token punctuation">)</span> <span class="token comment">// 创建一个游标</span>
  <span class="token keyword">let</span> html <span class="token operator">=</span> <span class="token string">''</span>

  req<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cursor <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cursor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      html <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cursor<span class="token punctuation">.</span>value<span class="token punctuation">.</span>userName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cursor<span class="token punctuation">.</span>value<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span>
      cursor<span class="token punctuation">.</span><span class="token function">continue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 控制游标移动，读取下一条数据</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Read all done!'</span><span class="token punctuation">)</span>
      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> html
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="使用索引操作数据"><a href="#使用索引操作数据" class="header-anchor">#</a> 使用索引操作数据</h3> <p>  使用索引能进行条件性的查找。需要注意的是，索引必须先在创建对象仓库的时候创建，然后才能在操作数据的时候获取：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> request <span class="token operator">=</span> indexedDB<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'dbName'</span><span class="token punctuation">)</span>

request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'upgradeneeded'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> db <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
  <span class="token comment">// 当数据库不存在指定对象仓库时</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token operator">...</span>db<span class="token punctuation">.</span>objectStoreNames<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建对象仓库</span>
    <span class="token keyword">const</span> store <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">createObjectStore</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> keyPath<span class="token operator">:</span> <span class="token string">'userId'</span><span class="token punctuation">,</span> autoIncrement<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 在对象仓库上创建索引</span>
    store<span class="token punctuation">.</span><span class="token function">createIndex</span><span class="token punctuation">(</span><span class="token string">'ageIndex'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> unique<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> db <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
  <span class="token keyword">const</span> tx <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">,</span> <span class="token string">'readwrite'</span><span class="token punctuation">)</span> <span class="token comment">// 发起事务</span>
  <span class="token keyword">const</span> store <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">objectStore</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">)</span> <span class="token comment">// 获取对象仓库</span>

  <span class="token comment">// 添加几条数据</span>
  store<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> userName<span class="token operator">:</span> <span class="token string">'Zed'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  store<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span> userName<span class="token operator">:</span> <span class="token string">'Anna'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  store<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span> userName<span class="token operator">:</span> <span class="token string">'Bod'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  store<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span> userName<span class="token operator">:</span> <span class="token string">'Li'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  store<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">32</span><span class="token punctuation">,</span> userName<span class="token operator">:</span> <span class="token string">'Noc'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> index <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token string">'ageIndex'</span><span class="token punctuation">)</span> <span class="token comment">// 获取索引对象</span>
  <span class="token keyword">const</span> req <span class="token operator">=</span> index<span class="token punctuation">.</span><span class="token function">openCursor</span><span class="token punctuation">(</span>IDBKeyRange<span class="token punctuation">.</span><span class="token function">lowerBound</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'next'</span><span class="token punctuation">)</span> <span class="token comment">// 在索引上打开游标</span>

  <span class="token comment">// 遍历游标</span>
  req<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cursor <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cursor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      cursor<span class="token punctuation">.</span><span class="token function">continue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Read all done!'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="一个完整的例子"><a href="#一个完整的例子" class="header-anchor">#</a> 一个完整的例子</h2> <p><strong>阅览：</strong></p> <p><img src="/assets/img/indexeddb_02.2bdb204d.gif" alt="完整Demo"></p> <p><strong>代码：</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>generate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>生成随机数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lower<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>未满18岁<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>18岁以上<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> generate <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'generate'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> lower <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'lower'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> upper <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'upper'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span>

    <span class="token comment">// 生成随机数据</span>
    generate<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> request <span class="token operator">=</span> indexedDB<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'myDB'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>

      request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'upgradeneeded'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'upgradeneeded'</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> db <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
        <span class="token comment">// 当数据库不存在指定对象仓库时</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token operator">...</span>db<span class="token punctuation">.</span>objectStoreNames<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 创建对象仓库</span>
          <span class="token keyword">const</span> store <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">createObjectStore</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> keyPath<span class="token operator">:</span> <span class="token string">'userId'</span><span class="token punctuation">,</span> autoIncrement<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token comment">// 在对象仓库上创建索引</span>
          store<span class="token punctuation">.</span><span class="token function">createIndex</span><span class="token punctuation">(</span><span class="token string">'ageIndex'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> unique<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> db <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
        <span class="token keyword">const</span> tx <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">,</span> <span class="token string">'readwrite'</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> store <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">objectStore</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">)</span>

        <span class="token comment">// 添加 30 条随机数据</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">30</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          store<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span> userId<span class="token operator">:</span> i<span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token function">randomAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> username<span class="token operator">:</span> <span class="token function">randomUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token comment">// 渲染数据</span>
      <span class="token keyword">const</span> keyRange <span class="token operator">=</span> IDBKeyRange<span class="token punctuation">.</span><span class="token function">lowerBound</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token function">toDOM</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> keyRange<span class="token punctuation">,</span> box<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 显示 age &lt; 18 的结果</span>
    lower<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> request <span class="token operator">=</span> indexedDB<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'myDB'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> keyRange <span class="token operator">=</span> IDBKeyRange<span class="token punctuation">.</span><span class="token function">upperBound</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
      <span class="token function">toDOM</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> keyRange<span class="token punctuation">,</span> box<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 显示 age &gt;= 18 的结果</span>
    upper<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> request <span class="token operator">=</span> indexedDB<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'myDB'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> keyRange <span class="token operator">=</span> IDBKeyRange<span class="token punctuation">.</span><span class="token function">lowerBound</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span>
      <span class="token function">toDOM</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> keyRange<span class="token punctuation">,</span> box<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 渲染数据</span>
    <span class="token keyword">function</span> <span class="token function">toDOM</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> keyRange<span class="token punctuation">,</span> dom</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> db <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
        <span class="token keyword">const</span> tx <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">,</span> <span class="token string">'readwrite'</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> store <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">objectStore</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> index <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token string">'ageIndex'</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> html <span class="token operator">=</span> <span class="token string">''</span>

        index<span class="token punctuation">.</span><span class="token function">openCursor</span><span class="token punctuation">(</span>keyRange<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> cursor <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
          <span class="token keyword">if</span> <span class="token punctuation">(</span>cursor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            html <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cursor<span class="token punctuation">.</span>value<span class="token punctuation">.</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cursor<span class="token punctuation">.</span>value<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span>
            cursor<span class="token punctuation">.</span><span class="token function">continue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            dom<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> html
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 生成随机年龄</span>
    <span class="token keyword">function</span> <span class="token function">randomAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">40</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 生成随机用户名</span>
    <span class="token keyword">function</span> <span class="token function">randomUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> first <span class="token operator">=</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">65</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> sub <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">97</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> first <span class="token operator">+</span> sub<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <h3 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h3> <p>记录各个相关接口的 <code>API</code> 及其返回值类型：</p> <ul><li><strong>IDBEnvironment</strong>: 描述 <code>IndexDB</code> 环境(<code>window</code> 或 <code>Worker</code>)，无其他使用方法</li> <li><strong>IDBVersionChangeEvent</strong>: 描述数据库版本的改变</li> <li><strong>IDBRequest</strong>: 管理数据库请求结果，所有异步方法都会返回一个该对象</li> <li><strong>IDBOpenDBRequest</strong>: 继承自 <strong>IDBRequest</strong>，只有连接和删除数据库时会返回该对象</li> <li><strong>IDBFactory</strong>: 数据库顶层接口，<code>window</code> 实现了该接口，用于连接或删除数据库
<ul><li><code>open(): IDBOpenDBRequest</code></li> <li><code>deleteDatabase(): IDBOpenDBRequest</code></li> <li><code>cmp(): Enum</code></li></ul></li> <li><strong>IDBDatabase</strong>: 管理数据库，能够创建/删除对象仓库、发起事务、关闭数据库连接
<ul><li><code>close(): void</code></li> <li><code>createObjectStore(): IDBObjectStore</code></li> <li><code>deleteObjectStore(): void</code></li> <li><code>transaction(): IDBTransaction</code></li></ul></li> <li><strong>IDBTransaction</strong>: 管理事务，能够撤销事务、返回当前事务的对象仓库
<ul><li><code>abort(): void</code></li> <li><code>objectStore(): IDBObjectStore</code></li></ul></li> <li><strong>IDBObjectStore</strong>: 管理对象仓库，能够进行 <code>CRUD</code>、管理索引、打开游标
<ul><li><code>add(): IDBRequest</code></li> <li><code>put(): IDBRequest</code></li> <li><code>get(): IDBRequest</code></li> <li><code>delete(): IDBRequest</code></li> <li><code>clear(): IDBRequest</code></li> <li><code>count(): IDBRequest</code></li> <li><code>openCursor(): IDBRequest</code></li> <li><code>index(): IDBIndex</code></li> <li><code>createIndex(): IDBIndex</code></li> <li><code>deleteIndex(): void</code></li></ul></li> <li><strong>IDBIndex</strong>: 管理索引，能够获取数据/键、打开游标
<ul><li><code>count(): IDBRequest</code></li> <li><code>get(): IDBRequest</code></li> <li><code>getAll(): IDBRequest</code></li> <li><code>getKey(): IDBRequest</code></li> <li><code>getAllKeys(): IDBRequest</code></li> <li><code>openCursor(): IDBRequest</code></li> <li><code>openKeyCursor(): IDBRequest</code></li></ul></li> <li><strong>IDBCursor</strong>: 管理游标，能够控制游标移动、更新/删除数据
<ul><li><code>continue(): void</code></li> <li><code>advance(): void</code></li> <li><code>update(): IDBRequest</code></li> <li><code>delete(): IDBRequest</code></li></ul></li> <li><strong>IDBCursorWithValue</strong>: 继承自 <strong>IDBCursor</strong>，扩展了一个 <code>value</code> 属性</li> <li><strong>IDBKeyRange</strong>: 范围对象，能够创建范围(创建范围的都是静态方法)
<ul><li><code>static bound(): IDBKeyRange</code></li> <li><code>static only(): IDBKeyRange</code></li> <li><code>static lowerBound(): IDBKeyRange</code></li> <li><code>static upperBound(): IDBKeyRange</code></li> <li><code>includes(): Boolean</code></li></ul></li> <li><strong>IDBLocaleAwareKeyRange</strong>: 继承自 <strong>IDBKeyRange</strong>，<code>Firefox</code> 的某些版本特有</li></ul> <h3 id="idbenvironment"><a href="#idbenvironment" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IDBEnvironment" target="_blank" rel="noopener noreferrer">IDBEnvironment<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong>介绍：</strong></p> <ul><li>可以理解为一个由 <code>window</code> 或 <code>Worker</code> 实现的挂载 <code>indexedDB</code> 属性的环境，如 <code>window.indexedDB</code></li></ul> <h3 id="idbversionchangeevent"><a href="#idbversionchangeevent" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IDBVersionChangeEvent" target="_blank" rel="noopener noreferrer">IDBVersionChangeEvent<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong>介绍：</strong></p> <ul><li>能够访问当数据库的版本已经改变时的一些属性</li></ul> <p><strong>属性：</strong></p> <ul><li><code>oldVersion: readonly String</code>: 数据库的旧版本号</li> <li><code>newVersion: readonly String</code>: 数据库的新版本号</li></ul> <p><strong>事件：</strong></p> <ul><li><code>onupgradeneeded</code>: 当一个数据库的版本比已经存在的版本高时</li></ul> <h3 id="idbfactory"><a href="#idbfactory" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IDBFactory" target="_blank" rel="noopener noreferrer">IDBFactory<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong>介绍：</strong></p> <ul><li>让程序可以异步存取 <code>indexedDB</code> 数据库，<code>window.indexedDB</code> 对象实现了这个接口</li> <li>在事件中可以使用 <code>e.target</code> 访问这个 <code>IDBRequest</code> 对象</li></ul> <p><strong>方法：</strong></p> <ul><li><code>open(name: String, (version = 1)?: Number): IDBOpenDBRequest</code>：连接数据库(不存在时会新建)
<ul><li><code>name</code>: 数据库名称</li> <li><code>version</code>: 数据库版本</li></ul></li> <li><code>deleteDatabase(name: String): IDBOpenDBRequest</code>：删除数据库</li> <li><code>cmp(a: String, b: String): Enum</code>：将两个值键进行比较，返回哪个键更大(-1, 0, 1)</li></ul> <h3 id="idbrequest"><a href="#idbrequest" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IDBRequest" target="_blank" rel="noopener noreferrer">IDBRequest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong>介绍：</strong></p> <ul><li>对数据库的读写操作都是通过请求的方式来实现，而且所有的异步方法都返回一个 <code>IDBRequest</code> 对象</li></ul> <p><strong>属性：</strong></p> <ul><li><code>result: readonly Any</code>: 请求的结果，请求失败并且结果不可用时抛出 <code>InvalidStateError</code> 异常</li> <li><code>error: readonly DOMError</code>: 错误信息</li> <li><code>source: readonly Object</code>: 请求的源对象(<code>IDBIndex</code>/<code>IDBObjectStore</code>)，不存在时(如 <code>indexedDB.open()</code>)返回 <code>null</code></li> <li><code>transaction: readonly IDBTransaction</code>: 请求的事务(<code>indexedDB.open()</code> 返回 <code>null</code>)</li> <li><code>readyState: readonly Enum</code>: 请求的状态(每个请求都从 <code>pending</code> 开始，当请求成功完成或发生错误时变为 <code>done</code>)</li></ul> <p><strong>事件：</strong></p> <ul><li><code>onsuccess</code>: 操作成功时</li> <li><code>onerror</code>: 操作失败时</li></ul> <div class="custom-block tip"><p class="custom-block-title">不同情况下的 result：</p> <ul><li>如果操作中有错误发生，<code>error</code> 事件会触发，并且会通过 <code>result</code> 属性抛出一个异常</li> <li>如果请求对象成功执行，结果可以通过 <code>result</code> 属性访问到，并且该请求对象上会触发 <code>success</code> 事件</li> <li><code>result</code> 属性的值是不一定的，有时候是某些对象，有时候是值，与请求事件有关：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 打开数据库时，是一个 IDBDatabase 对象</span>
<span class="token keyword">const</span> request <span class="token operator">=</span> indexedDB<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'testDB'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">)</span> <span class="token comment">// IDBDatabase {}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 添加数据时，是一个主键值</span>
<span class="token keyword">const</span> req <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span> userName<span class="token operator">:</span> username<span class="token punctuation">.</span>value<span class="token punctuation">,</span> age<span class="token operator">:</span> age<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span>
req<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">)</span> <span class="token comment">// 11</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 打开游标时，是一个 IDBCursorWithValue 对象</span>
<span class="token keyword">const</span> req <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">openCursor</span><span class="token punctuation">(</span>range<span class="token punctuation">,</span> <span class="token string">'next'</span><span class="token punctuation">)</span>
req<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">)</span> <span class="token comment">// IDBCursorWithValue {}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <h3 id="idbopendbrequest"><a href="#idbopendbrequest" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IDBOpenDBRequest" target="_blank" rel="noopener noreferrer">IDBOpenDBRequest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong>介绍：</strong></p> <ul><li>继承自 <code>IDBRequest</code> 对象，并扩展了两个事件</li> <li>可以访问打开或删除数据库的请求的结果，以下方式会返回一个  <code>IDBOpenDBRequest</code> <ul><li><code>IDBFactory.open()</code></li> <li><code>IDBFactory.deleteDatabase()</code></li></ul></li></ul> <p><strong>事件：</strong></p> <ul><li><code>onupgradeneeded</code>: 当一个数据库的版本比已经存在的版本高时</li> <li><code>onblocked</code>: <code>upgradeneeded</code> 事件触发后，仍在某个地方使用数据库时</li></ul> <div class="custom-block tip"><p class="custom-block-title">说明：</p> <ul><li>以下操作必须在 <code>upgradeneeded</code> 事件中进行：
<ul><li>创建/删除对象仓库：<code>createObjectStore()</code>/<code>deleteObjectStore()</code></li> <li>创建/删除索引：<code>createIndex()</code>/<code>deleteIndex()</code></li></ul></li> <li>以下操作不能在 <code>upgradeneeded</code> 事件中进行：
<ul><li>发起事务：<code>transaction()</code></li></ul></li></ul></div> <h3 id="idbdatabase"><a href="#idbdatabase" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IDBDatabase" target="_blank" rel="noopener noreferrer">IDBDatabase<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong>介绍：</strong></p> <ul><li><code>IDBDatabase</code> 是唯一一个能够访问和管理数据库版本的接口</li> <li>提供一个到数据库的连接，可以使用 <code>IDBDatabase</code> 对象在数据库中打开一个 <code>transaction</code>，然后进行操作或者删除数据库中的对象</li></ul> <p><strong>属性：</strong></p> <ul><li><code>name: readonly String</code>: 当前连接数据库名</li> <li><code>version: Number</code>: 当前连接数据库的版本</li> <li><code>objectStoreNames: String[]</code>: 当前连接连接数据库中所有的 <code>ObjectStore</code> 的名字列表</li></ul> <p><strong>方法：</strong></p> <ul><li><code>close(): void</code>: 关闭数据库连接</li> <li><code>createObjectStore(name: String, options?: Object): IDBObjectStore</code>: 创建一个 <code>IDBObjectStore</code> 对象，可选的 <code>options</code> 的属性：
<ul><li><code>keyPath: String | String[]</code>: 用在 <code>IDBObjectStore</code> 对象上的键</li> <li><code>autoIncrement: Boolean</code>: <code>true</code> 时指定主键自增</li></ul></li> <li><code>deleteObjectStore(name: String): void</code>: 删除指定的 <code>IDBObjectStore</code> 对象</li> <li><code>transaction(storeNames: String | String[], (mode = readonly)?: String): IDBTransaction</code>: 创建一个事务，<code>mode</code> 的取值有
<ul><li><code>readonly</code>: 只读模式</li> <li><code>readwrite</code>: 读写模式</li></ul></li></ul> <p><strong>事件：</strong></p> <ul><li><code>onabort</code>: 中断数据库访问时</li> <li><code>onerror</code>: 访问数据库失败时</li> <li><code>onversionchange</code>: 数据库结构发生更改时</li></ul> <div class="custom-block danger"><p class="custom-block-title">注意：</p> <ul><li><code>createObjectStore()</code>/<code>deleteObjectStore()</code> 方法只能在版本更改事件(<code>upgradeneeded</code>)中使用</li> <li>不能创建同名的对象仓库(<code>ObjectStore</code>)，否则会报错</li></ul></div> <h3 id="idbtransaction"><a href="#idbtransaction" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IDBTransaction" target="_blank" rel="noopener noreferrer">IDBTransaction<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong>介绍：</strong></p> <ul><li>提供异步事务操作，能够使用数据库中的事件对象属性，所有的读取和写入数据均在事务中完成(必须创建事务才能操作数据库)</li> <li>事务由 <code>IDBDatabase</code> 发起，创建事务后可以使用 <code>IDBObjectStore</code> 来发起请求</li> <li>事务在被创建的时候就已经开始，并非在发起第一个请求(<code>IDBRequest</code>)的时候</li></ul> <p><strong>属性：</strong></p> <ul><li><code>db: readonly String</code>: 当前事务所属的数据库</li> <li><code>error: readonly String</code>: 事务失败时发生的错误类型</li> <li><code>mode: readonly String</code>: 访问事务的模式</li> <li><code>objectStoreNames: readonly String[]</code>: 所有 <code>IDBObjectStore</code> 对象名称的列表</li></ul> <p><strong>方法：</strong></p> <ul><li><code>abort(): void</code>: 放弃本次事务的更改</li> <li><code>objectStore(name: String): IDBObjectStore</code>: 返回一个已添加到此事务范围内的 <code>IDBObjectStore</code> 对象</li></ul> <p><strong>事件：</strong></p> <ul><li><code>onabort</code>: 事务中止时</li> <li><code>oncomplete</code>: 事务完成时</li> <li><code>onerror</code>: 事务未能完成时</li></ul> <div class="custom-block tip"><p class="custom-block-title">所有的数据操作都是从事务开始的，一个完整的步骤为：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> request <span class="token operator">=</span> indexedDB<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'testDB'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 1.连接数据库</span>

request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> db <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
  <span class="token keyword">const</span> tx <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">,</span> <span class="token string">'readwrite'</span><span class="token punctuation">)</span> <span class="token comment">// 2.创建事务</span>
  <span class="token keyword">const</span> store <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">objectStore</span><span class="token punctuation">(</span><span class="token string">'Users'</span><span class="token punctuation">)</span> <span class="token comment">// 3.获取 IDBObjectStore 对象</span>
  <span class="token keyword">const</span> req <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span> userName<span class="token operator">:</span> username<span class="token punctuation">.</span>value<span class="token punctuation">,</span> age<span class="token operator">:</span> age<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 4.发起请求</span>

  req<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Add user success!'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <h3 id="idbobjectstore"><a href="#idbobjectstore" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IDBObjectStore" target="_blank" rel="noopener noreferrer">IDBObjectStore<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong>介绍：</strong></p> <ul><li>表示数据库中的一个对象仓库(<code>ObjectStore</code>)，可以把对象仓库理解为关系数据库的表结构</li> <li>对象库中的记录根据其键值进行排序，可以实现快速插入，查找和有序检索</li></ul> <p><strong>属性：</strong></p> <ul><li><code>indexNames: readonly String[]</code>: 表中对象的索引名列表</li> <li><code>keyPath: readonly String</code>: 表中的键路径，若该属性为 <code>null</code>，每次操作表时必须提供一个键名</li> <li><code>name: readonly String</code>: 表名</li> <li><code>transaction: readonly IDBTransaction</code>: 事务的名称，该表属于此事务</li> <li><code>autoIncrement: readonly Boolean</code>: 表中自增字段的值</li></ul> <p><strong>方法：</strong></p> <ul><li><code>add(value: Object, key = null): IDBRequest</code>: 增加数据</li> <li><code>put(value: Object, key = null): IDBRequest</code>: 增加或更新数据</li> <li><code>get(range: String | IDBKeyRange): IDBRequest</code>: 获取数据</li> <li><code>delete(range: String | IDBKeyRange): IDBRequest</code>: 删除数据</li> <li><code>clear(): IDBRequest</code>: 清空数据</li> <li><code>count(range: String | IDBKeyRange): IDBRequest</code>: 返回记录数</li> <li><code>index(name: String): IDBIndex</code>: 打开指定索引</li> <li><code>createIndex(name: String, keyPath: string | string[], optional?: Object): IDBIndex</code>: 创建一个索引
<ul><li><code>name</code>: 索引名</li> <li><code>keyPath</code>: 要建立索引的键名或多个键名的数组</li> <li><code>optional</code>: 可选参数列表
<ul><li><code>unique</code>: 为 <code>true</code> 时指定索引值不能相同，默认 <code>false</code></li> <li><code>multiEntry</code>: 仅当 <code>keyPath</code> 为一个数组时有效。该值为 <code>true</code> 时，会以数组的每个元素建立一条索引，否则以整个数组添加一条索引</li></ul></li></ul></li> <li><code>deleteIndex(indexName: String): void</code>: 删除一条索引</li> <li><code>openCursor(range: IDBKeyRange, direction: String): IDBRequest</code>: 打开一个游标
<ul><li><code>range</code>: <code>IDBKeyRange</code> 对象</li> <li><code>direction</code>: 游标的方向，有以下取值：
<ul><li><code>next</code>: 按主键值升序排列</li> <li><code>nextunique</code>: 按主键值升序排列，主键值相等时只读取第一条数据</li> <li><code>prev</code>: 按主键值降序排列</li> <li><code>prevunique</code>: 按主键值降序排列，主键值相等时只读取第一条数据</li></ul></li></ul></li></ul> <div class="custom-block danger"><p class="custom-block-title">注意：</p> <ul><li><code>createIndex()</code>/<code>deleteIndex()</code> 方法只能在版本更改事件(<code>upgradeneeded</code>)中使用</li></ul></div> <h3 id="idbindex"><a href="#idbindex" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IDBIndex" target="_blank" rel="noopener noreferrer">IDBIndex<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong>介绍：</strong></p> <ul><li><code>IDBIndex</code> 可以看作是一个包含引用(<code>index</code>)的 <code>ObjectStore</code></li> <li><code>IDBIndex</code> 实例上还能继续打开游标</li></ul> <p><strong>属性：</strong></p> <ul><li><code>name: readonly String</code>: 索引的名称</li> <li><code>keyPath: readonly String</code>: 创建索引时的 <code>keyPath</code></li> <li><code>multiEntry: readonly Boolean</code>: 创建索引时指定的 <code>multiEntry</code></li> <li><code>unique: readonly Boolean</code>: 创建索引时指定的 <code>unique</code></li> <li><code>objectStore: readonly IDBObjectStore</code>: 索引引用的对象仓库</li></ul> <p><strong>方法：</strong></p> <ul><li><code>count(query?: Any | IDBKeyRange): IDBRequest</code>: 返回符合查询条件的结果数</li> <li><code>get(query: Any | IDBKeyRange): IDBRequest</code>: 返回符合查询条件的第一条结果</li> <li><code>getKey(query?: Any | IDBKeyRange): IDBRequest</code>: 返回符合查询条件的第一条结果的主键</li> <li><code>getAll(query?: Any | IDBKeyRange, count?: Number): IDBRequest</code>: 返回符合查询条件的所有数据(<code>count</code> 指定条目数)</li> <li><code>getAllKeys(query?: Any | IDBKeyRange, count?: Number): IDBRequest</code>: 返回符合查询条件的所有主键(<code>count</code> 指定条目数)</li> <li><code>openCursor(range: String | IDBKeyRange, direction: String): IDBRequest</code>: 打开一个游标</li> <li><code>openKeyCursor(range: String | IDBKeyRange, direction: String): IDBRequest</code>: 打开一个游标</li></ul> <div class="custom-block tip"><p class="custom-block-title">说明：</p> <ul><li><code>query</code> 参数可以是 <code>keyPath</code> 对应的值或一个范围，而且 <code>get()</code>/<code>getKey()</code> 只会返回查找结果的第一个，而 <code>getAll()</code>/<code>getAllKeys()</code> 会返回一个结果数组：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1.query 参数是 keyPath 对应的值</span>
<span class="token keyword">const</span> req <span class="token operator">=</span> index<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token comment">// 返回 age = 20 的第一条数据</span>

<span class="token comment">// 2.query 参数是一个范围</span>
<span class="token keyword">const</span> req <span class="token operator">=</span> index<span class="token punctuation">.</span><span class="token function">getAll</span><span class="token punctuation">(</span>IDBKeyRange<span class="token punctuation">.</span><span class="token function">lowerBound</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 返回 age &gt;= 20 所有数据的数组</span>
</code></pre></div><ul><li><code>getAll()</code>/<code>getAllKeys()</code> 不带参数时会返回所有数据，而且第二个参数 <code>count</code> 不能独立使用</li> <li><code>openCursor()</code> 和 <code>openKeyCursor()</code> 的区别：
<ul><li>他们都返回一个 <code>IDBRequest</code> 对象，因此都有 <code>result</code> 属性</li> <li><code>openKeyCursor()</code> 的 <code>result</code> 属性是一个 <code>IDBCursor</code> 对象，而 <code>openCursor()</code> 的 <code>result</code> 属性是一个 <code>IDBCursorWithValue</code> 对象(它继承自 <code>openKeyCursor()</code> 并扩展了一个 <code>value</code> 属性)：
<img src="/assets/img/indexeddb-api.fb0da5a5.png" alt="区别"></li></ul></li></ul></div> <h3 id="idbcursor"><a href="#idbcursor" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IDBCursor" target="_blank" rel="noopener noreferrer">IDBCursor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong>介绍：</strong></p> <ul><li>游标其实是一个指针，指向一个区间的数据记录，最后一个指向为 <code>null</code></li> <li>游标用于在数据库中遍历多个记录</li> <li>游标能迭代 <code>IDBObjectStore</code> 和 <code>IDBIndex</code> 对象</li> <li>实际使用的游标大多数是 <code>IDBCursorWithValue</code> 的实例，它继承了 <code>IDBCursor</code> 的属性和方法并扩展了 <code>value</code> 属性</li></ul> <p><strong>属性：</strong></p> <ul><li><code>direction: readonly Enum</code>: 返回游标的方向(<code>next</code>/<code>nextunique</code>/<code>prev</code>/<code>prevunique</code>)</li> <li><code>key: readonly String</code>: 返回当前游标的键</li> <li><code>primaryKey: readonly String</code>: 返回当前游标的有效主键</li> <li><code>source: readonly Enum</code>: 返回游标当前迭代的对象(<code>IDBObjectStore</code>/<code>IDBIndex</code>)</li></ul> <p><strong>方法：</strong></p> <ul><li><code>continue([key]): void</code>: 将游标向前移动一位</li> <li><code>advance(count: number): void</code>: 将游标向前移动指定位数(<code>continue()</code> 只能移动一位)</li> <li><code>delete(): IDBRequest</code>: 在另一个单独的线程中删除游标所在的数据(需要 <code>readwrite</code> 模式)，但不影响游标位置</li> <li><code>update(value: Object): IDBRequest</code>: 在另一个单独的线程中更新游标所在的数据</li></ul> <div class="custom-block tip"><p class="custom-block-title">注意：</p> <ul><li>使用 <code>update()</code> 时，需要先获取原数据对象的引用，修改后再使用该引用作为参数：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> data <span class="token operator">=</span> cursor<span class="token punctuation">.</span>value <span class="token comment">// 获取当前游标的数据</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>userName <span class="token operator">===</span> <span class="token string">'Alice'</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  data<span class="token punctuation">.</span>userName <span class="token operator">=</span> <span class="token string">'Bob'</span> <span class="token comment">// 修改对应的值</span>
  cursor<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// 将修改后的对象引用传入 update()</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="idbcursorwithvalue"><a href="#idbcursorwithvalue" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IDBCursorWithValue" target="_blank" rel="noopener noreferrer">IDBCursorWithValue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong>介绍：</strong></p> <ul><li>继承自 <code>IDBCursor</code> 接口，并且拥有额外的 <code>value</code> 属性</li></ul> <p><strong>属性：</strong></p> <ul><li><code>value: readonly Object</code>: 返回当前游标指向的数据对象</li></ul> <h3 id="idbkeyrange"><a href="#idbkeyrange" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IDBKeyRange" target="_blank" rel="noopener noreferrer">IDBKeyRange<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong>介绍：</strong></p> <ul><li>一个范围对象，用于创建范围，然后作为某些方法的参数</li></ul> <p><strong>属性：</strong></p> <ul><li><code>lower: readonly Number</code>: 键范围下限</li> <li><code>upper: readonly Number</code>: 键范围上限</li> <li><code>lowerOpen: readonly Boolean</code>: 判断下限值是否包含在键范围内</li> <li><code>upperOpen: readonly Boolean</code>: 判断上限值是否包含在键范围内</li></ul> <p><strong>方法：</strong></p> <ul><li><code>static bound(lower: Number, upper: Number, (openLower = false): Boolean, (openUpper = false): Boolean): IDBKeyRange</code>: 创建一个具有上限和下限的新键</li> <li><code>static only(value: Number): IDBKeyRange</code>: 创建一个包含单个值的新键范围</li> <li><code>static lowerBound(lower: Number, (open = false): Boolean): IDBKeyRange</code>: 创建一个只有下限的新键范围</li> <li><code>static upperBound(upper: Number, (open = false): Boolean): IDBKeyRange</code>: 创建一个只有上限的新键范围</li> <li><code>includes(key: String): Boolean</code>: 实例方法，判断指定的键是否在键范围内</li></ul> <div class="custom-block tip"><p class="custom-block-title">说明：</p> <ul><li><code>IDBKeyRange.bound(1, 10)</code> 创建的范围区间为 <code>[1, 10]</code>；<code>IDBKeyRange.bound(1, 10, true, true)</code> 创建的范围区间为 <code>(1, 10)</code></li> <li><code>IDBKeyRange.lowerBound(1)</code> 创建的范围区间为 <code>[1, max]</code></li> <li><code>IDBKeyRange.upperBound(10)</code> 创建的范围区间为 <code>[min, 10]</code></li></ul></div> <h3 id="idblocaleawarekeyrange"><a href="#idblocaleawarekeyrange" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IDBLocaleAwareKeyRange" target="_blank" rel="noopener noreferrer">IDBLocaleAwareKeyRange<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong>介绍：</strong></p> <ul><li>继承自 <code>IDBKeyRange</code> 接口，<code>Firefox</code> 特定版本的实现</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/front-end/html/html5/storage.html" class="prev">
        Storage
      </a></span> <span class="next"><a href="/front-end/html/html5/app-cache.html">
        AppCache
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.a0f576ea.js" defer></script><script src="/assets/js/2.8a7b7341.js" defer></script><script src="/assets/js/11.24a58a76.js" defer></script>
  </body>
</html>
