<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>介绍 | Web Docs</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="一份以手册为主的 Web 开发文档">
    
    <link rel="preload" href="/assets/css/0.styles.b2b5e418.css" as="style"><link rel="preload" href="/assets/js/app.a0f576ea.js" as="script"><link rel="preload" href="/assets/js/2.8a7b7341.js" as="script"><link rel="preload" href="/assets/js/356.33e6d239.js" as="script"><link rel="prefetch" href="/assets/js/10.8691d13a.js"><link rel="prefetch" href="/assets/js/100.28a4d843.js"><link rel="prefetch" href="/assets/js/101.1987a653.js"><link rel="prefetch" href="/assets/js/102.3c40a783.js"><link rel="prefetch" href="/assets/js/103.aeb1ac63.js"><link rel="prefetch" href="/assets/js/104.95ff8caa.js"><link rel="prefetch" href="/assets/js/105.4d769fd5.js"><link rel="prefetch" href="/assets/js/106.948d31cf.js"><link rel="prefetch" href="/assets/js/107.3eedf9fa.js"><link rel="prefetch" href="/assets/js/108.31ea3f26.js"><link rel="prefetch" href="/assets/js/109.94dc3ed4.js"><link rel="prefetch" href="/assets/js/11.24a58a76.js"><link rel="prefetch" href="/assets/js/110.ef4f2f03.js"><link rel="prefetch" href="/assets/js/111.381c76e0.js"><link rel="prefetch" href="/assets/js/112.cb46ecc7.js"><link rel="prefetch" href="/assets/js/113.77b13509.js"><link rel="prefetch" href="/assets/js/114.550111ed.js"><link rel="prefetch" href="/assets/js/115.3c7badd8.js"><link rel="prefetch" href="/assets/js/116.cb183e9f.js"><link rel="prefetch" href="/assets/js/117.e2b540d3.js"><link rel="prefetch" href="/assets/js/118.757d9e18.js"><link rel="prefetch" href="/assets/js/119.98a2e4b4.js"><link rel="prefetch" href="/assets/js/12.6b3d6124.js"><link rel="prefetch" href="/assets/js/120.0fc855b3.js"><link rel="prefetch" href="/assets/js/121.0eff55cf.js"><link rel="prefetch" href="/assets/js/122.49658f58.js"><link rel="prefetch" href="/assets/js/123.2a143813.js"><link rel="prefetch" href="/assets/js/124.6a8941d5.js"><link rel="prefetch" href="/assets/js/125.859cc0c2.js"><link rel="prefetch" href="/assets/js/126.f537e3e9.js"><link rel="prefetch" href="/assets/js/127.5e6290c2.js"><link rel="prefetch" href="/assets/js/128.95c74c0c.js"><link rel="prefetch" href="/assets/js/129.423c42e0.js"><link rel="prefetch" href="/assets/js/13.550daa4c.js"><link rel="prefetch" href="/assets/js/130.ad6b9236.js"><link rel="prefetch" href="/assets/js/131.22dab9f5.js"><link rel="prefetch" href="/assets/js/132.17cc94e5.js"><link rel="prefetch" href="/assets/js/133.79d2c601.js"><link rel="prefetch" href="/assets/js/134.e6eb9636.js"><link rel="prefetch" href="/assets/js/135.a151b97c.js"><link rel="prefetch" href="/assets/js/136.5a9c1615.js"><link rel="prefetch" href="/assets/js/137.e9d2a537.js"><link rel="prefetch" href="/assets/js/138.10987db9.js"><link rel="prefetch" href="/assets/js/139.8f424792.js"><link rel="prefetch" href="/assets/js/14.9ff72da4.js"><link rel="prefetch" href="/assets/js/140.7d3658db.js"><link rel="prefetch" href="/assets/js/141.244e46e9.js"><link rel="prefetch" href="/assets/js/142.b3f6ee1c.js"><link rel="prefetch" href="/assets/js/143.e899ae4d.js"><link rel="prefetch" href="/assets/js/144.960dc2b0.js"><link rel="prefetch" href="/assets/js/145.c8990aaa.js"><link rel="prefetch" href="/assets/js/146.407d4ccc.js"><link rel="prefetch" href="/assets/js/147.22b6cf44.js"><link rel="prefetch" href="/assets/js/148.8bddcb64.js"><link rel="prefetch" href="/assets/js/149.ab525691.js"><link rel="prefetch" href="/assets/js/15.41b0fd29.js"><link rel="prefetch" href="/assets/js/150.a0fb390f.js"><link rel="prefetch" href="/assets/js/151.7f6cba86.js"><link rel="prefetch" href="/assets/js/152.b2a6a517.js"><link rel="prefetch" href="/assets/js/153.20d24a16.js"><link rel="prefetch" href="/assets/js/154.17690677.js"><link rel="prefetch" href="/assets/js/155.f0e4cb8e.js"><link rel="prefetch" href="/assets/js/156.c56c1a8b.js"><link rel="prefetch" href="/assets/js/157.e0e0a36b.js"><link rel="prefetch" href="/assets/js/158.e9b171de.js"><link rel="prefetch" href="/assets/js/159.c2c88af6.js"><link rel="prefetch" href="/assets/js/16.0685634a.js"><link rel="prefetch" href="/assets/js/160.e6f0c30e.js"><link rel="prefetch" href="/assets/js/161.4924352c.js"><link rel="prefetch" href="/assets/js/162.06704503.js"><link rel="prefetch" href="/assets/js/163.4707d4a5.js"><link rel="prefetch" href="/assets/js/164.f8e0be5a.js"><link rel="prefetch" href="/assets/js/165.a829a231.js"><link rel="prefetch" href="/assets/js/166.d0015653.js"><link rel="prefetch" href="/assets/js/167.e52e8db6.js"><link rel="prefetch" href="/assets/js/168.2cd4ff61.js"><link rel="prefetch" href="/assets/js/169.39656098.js"><link rel="prefetch" href="/assets/js/17.95405c80.js"><link rel="prefetch" href="/assets/js/170.b7aafec6.js"><link rel="prefetch" href="/assets/js/171.46531e48.js"><link rel="prefetch" href="/assets/js/172.33a12c12.js"><link rel="prefetch" href="/assets/js/173.5cba96ee.js"><link rel="prefetch" href="/assets/js/174.68c3e08a.js"><link rel="prefetch" href="/assets/js/175.3f29ae65.js"><link rel="prefetch" href="/assets/js/176.bdca172e.js"><link rel="prefetch" href="/assets/js/177.7b2a7d98.js"><link rel="prefetch" href="/assets/js/178.19498d3f.js"><link rel="prefetch" href="/assets/js/179.d708b13b.js"><link rel="prefetch" href="/assets/js/18.de8cf438.js"><link rel="prefetch" href="/assets/js/180.1fb9faeb.js"><link rel="prefetch" href="/assets/js/181.41132774.js"><link rel="prefetch" href="/assets/js/182.b75cd986.js"><link rel="prefetch" href="/assets/js/183.a96659c6.js"><link rel="prefetch" href="/assets/js/184.81639f3e.js"><link rel="prefetch" href="/assets/js/185.69e17eee.js"><link rel="prefetch" href="/assets/js/186.56e2eb73.js"><link rel="prefetch" href="/assets/js/187.fdd37042.js"><link rel="prefetch" href="/assets/js/188.a26232c6.js"><link rel="prefetch" href="/assets/js/189.b4e5a97b.js"><link rel="prefetch" href="/assets/js/19.2a37571c.js"><link rel="prefetch" href="/assets/js/190.98e633e0.js"><link rel="prefetch" href="/assets/js/191.264501ed.js"><link rel="prefetch" href="/assets/js/192.15c16064.js"><link rel="prefetch" href="/assets/js/193.db924a5f.js"><link rel="prefetch" href="/assets/js/194.010dbbe1.js"><link rel="prefetch" href="/assets/js/195.66587504.js"><link rel="prefetch" href="/assets/js/196.9f5cd003.js"><link rel="prefetch" href="/assets/js/197.4868f23e.js"><link rel="prefetch" href="/assets/js/198.02c98145.js"><link rel="prefetch" href="/assets/js/199.c26cb16c.js"><link rel="prefetch" href="/assets/js/20.e77274ef.js"><link rel="prefetch" href="/assets/js/200.151fd697.js"><link rel="prefetch" href="/assets/js/201.da5ce221.js"><link rel="prefetch" href="/assets/js/202.f6374eff.js"><link rel="prefetch" href="/assets/js/203.ddee0d21.js"><link rel="prefetch" href="/assets/js/204.d53d35b4.js"><link rel="prefetch" href="/assets/js/205.662ddf19.js"><link rel="prefetch" href="/assets/js/206.3f42965f.js"><link rel="prefetch" href="/assets/js/207.b71445cf.js"><link rel="prefetch" href="/assets/js/208.66abdbf0.js"><link rel="prefetch" href="/assets/js/209.2101491e.js"><link rel="prefetch" href="/assets/js/21.bf7a9875.js"><link rel="prefetch" href="/assets/js/210.ff17b31b.js"><link rel="prefetch" href="/assets/js/211.bf0b3988.js"><link rel="prefetch" href="/assets/js/212.620f2415.js"><link rel="prefetch" href="/assets/js/213.2dbb81f5.js"><link rel="prefetch" href="/assets/js/214.c35749f1.js"><link rel="prefetch" href="/assets/js/215.dcd2d3e2.js"><link rel="prefetch" href="/assets/js/216.1fc5584b.js"><link rel="prefetch" href="/assets/js/217.6f50162f.js"><link rel="prefetch" href="/assets/js/218.f66436a3.js"><link rel="prefetch" href="/assets/js/219.0b7620fa.js"><link rel="prefetch" href="/assets/js/22.1cc3e1e9.js"><link rel="prefetch" href="/assets/js/220.3c704bfb.js"><link rel="prefetch" href="/assets/js/221.72d3d98e.js"><link rel="prefetch" href="/assets/js/222.4302154c.js"><link rel="prefetch" href="/assets/js/223.3e3e982c.js"><link rel="prefetch" href="/assets/js/224.d52d9812.js"><link rel="prefetch" href="/assets/js/225.6a262d9c.js"><link rel="prefetch" href="/assets/js/226.0bef7d15.js"><link rel="prefetch" href="/assets/js/227.885cd890.js"><link rel="prefetch" href="/assets/js/228.8a23c099.js"><link rel="prefetch" href="/assets/js/229.876e1ec3.js"><link rel="prefetch" href="/assets/js/23.0cd1d788.js"><link rel="prefetch" href="/assets/js/230.61461e8a.js"><link rel="prefetch" href="/assets/js/231.70259c5c.js"><link rel="prefetch" href="/assets/js/232.e9ed9cf2.js"><link rel="prefetch" href="/assets/js/233.ec872f45.js"><link rel="prefetch" href="/assets/js/234.8ddb6b6d.js"><link rel="prefetch" href="/assets/js/235.0a494c2f.js"><link rel="prefetch" href="/assets/js/236.ff4a940e.js"><link rel="prefetch" href="/assets/js/237.590c3464.js"><link rel="prefetch" href="/assets/js/238.cfbc0df8.js"><link rel="prefetch" href="/assets/js/239.52cf7f56.js"><link rel="prefetch" href="/assets/js/24.bd36bb07.js"><link rel="prefetch" href="/assets/js/240.afe004e0.js"><link rel="prefetch" href="/assets/js/241.a1ad8045.js"><link rel="prefetch" href="/assets/js/242.15355e3f.js"><link rel="prefetch" href="/assets/js/243.bd20d6ae.js"><link rel="prefetch" href="/assets/js/244.68a8ba5e.js"><link rel="prefetch" href="/assets/js/245.11c5b7db.js"><link rel="prefetch" href="/assets/js/246.19d6b0fd.js"><link rel="prefetch" href="/assets/js/247.398921f8.js"><link rel="prefetch" href="/assets/js/248.9339fdfe.js"><link rel="prefetch" href="/assets/js/249.caeab032.js"><link rel="prefetch" href="/assets/js/25.c1ee30d3.js"><link rel="prefetch" href="/assets/js/250.37442400.js"><link rel="prefetch" href="/assets/js/251.ca8c998b.js"><link rel="prefetch" href="/assets/js/252.aa34ca41.js"><link rel="prefetch" href="/assets/js/253.b602e827.js"><link rel="prefetch" href="/assets/js/254.96e3f648.js"><link rel="prefetch" href="/assets/js/255.e695d673.js"><link rel="prefetch" href="/assets/js/256.52a75c7f.js"><link rel="prefetch" href="/assets/js/257.07126ae9.js"><link rel="prefetch" href="/assets/js/258.62899067.js"><link rel="prefetch" href="/assets/js/259.c6d98f9a.js"><link rel="prefetch" href="/assets/js/26.f1f05683.js"><link rel="prefetch" href="/assets/js/260.3c1c7c71.js"><link rel="prefetch" href="/assets/js/261.4b49f995.js"><link rel="prefetch" href="/assets/js/262.b7be2d1b.js"><link rel="prefetch" href="/assets/js/263.ee64df4e.js"><link rel="prefetch" href="/assets/js/264.0d232e80.js"><link rel="prefetch" href="/assets/js/265.5c2de63f.js"><link rel="prefetch" href="/assets/js/266.41ba3223.js"><link rel="prefetch" href="/assets/js/267.645e86ca.js"><link rel="prefetch" href="/assets/js/268.ae61d96d.js"><link rel="prefetch" href="/assets/js/269.54eaad33.js"><link rel="prefetch" href="/assets/js/27.58dd02d0.js"><link rel="prefetch" href="/assets/js/270.101ca96d.js"><link rel="prefetch" href="/assets/js/271.87dea596.js"><link rel="prefetch" href="/assets/js/272.a14bcb00.js"><link rel="prefetch" href="/assets/js/273.1365c36a.js"><link rel="prefetch" href="/assets/js/274.cd3a8605.js"><link rel="prefetch" href="/assets/js/275.e73443b2.js"><link rel="prefetch" href="/assets/js/276.7aa7f554.js"><link rel="prefetch" href="/assets/js/277.dabb3dc9.js"><link rel="prefetch" href="/assets/js/278.ca27fbc9.js"><link rel="prefetch" href="/assets/js/279.4f77e3c2.js"><link rel="prefetch" href="/assets/js/28.9c1b7e13.js"><link rel="prefetch" href="/assets/js/280.bfe43594.js"><link rel="prefetch" href="/assets/js/281.15948a71.js"><link rel="prefetch" href="/assets/js/282.a6923681.js"><link rel="prefetch" href="/assets/js/283.c4a886fb.js"><link rel="prefetch" href="/assets/js/284.a87176e1.js"><link rel="prefetch" href="/assets/js/285.b6fe4f81.js"><link rel="prefetch" href="/assets/js/286.c8bd480e.js"><link rel="prefetch" href="/assets/js/287.8be06b51.js"><link rel="prefetch" href="/assets/js/288.a73f764d.js"><link rel="prefetch" href="/assets/js/289.d0fa6398.js"><link rel="prefetch" href="/assets/js/29.37256cff.js"><link rel="prefetch" href="/assets/js/290.83b35938.js"><link rel="prefetch" href="/assets/js/291.0b387ccb.js"><link rel="prefetch" href="/assets/js/292.5d16a9fd.js"><link rel="prefetch" href="/assets/js/293.152a1bef.js"><link rel="prefetch" href="/assets/js/294.a5b74c4f.js"><link rel="prefetch" href="/assets/js/295.aec4c981.js"><link rel="prefetch" href="/assets/js/296.9e8eb3b2.js"><link rel="prefetch" href="/assets/js/297.33d18d60.js"><link rel="prefetch" href="/assets/js/298.30f7170a.js"><link rel="prefetch" href="/assets/js/299.8d48a6d1.js"><link rel="prefetch" href="/assets/js/3.ef27cbac.js"><link rel="prefetch" href="/assets/js/30.38cca7e8.js"><link rel="prefetch" href="/assets/js/300.f58fe408.js"><link rel="prefetch" href="/assets/js/301.06cc2e0d.js"><link rel="prefetch" href="/assets/js/302.2ac576df.js"><link rel="prefetch" href="/assets/js/303.001f957a.js"><link rel="prefetch" href="/assets/js/304.0fce19d2.js"><link rel="prefetch" href="/assets/js/305.2164b482.js"><link rel="prefetch" href="/assets/js/306.b6b1ed1f.js"><link rel="prefetch" href="/assets/js/307.f0f145c7.js"><link rel="prefetch" href="/assets/js/308.e22f6b5a.js"><link rel="prefetch" href="/assets/js/309.6cb832b2.js"><link rel="prefetch" href="/assets/js/31.4d1043fa.js"><link rel="prefetch" href="/assets/js/310.953282c7.js"><link rel="prefetch" href="/assets/js/311.3f3fbe40.js"><link rel="prefetch" href="/assets/js/312.d2bbc95b.js"><link rel="prefetch" href="/assets/js/313.30efc16f.js"><link rel="prefetch" href="/assets/js/314.f5e01d63.js"><link rel="prefetch" href="/assets/js/315.62c5f03d.js"><link rel="prefetch" href="/assets/js/316.90fa9ed9.js"><link rel="prefetch" href="/assets/js/317.b0f67018.js"><link rel="prefetch" href="/assets/js/318.14ff8b52.js"><link rel="prefetch" href="/assets/js/319.b9930f81.js"><link rel="prefetch" href="/assets/js/32.0e6c0370.js"><link rel="prefetch" href="/assets/js/320.ef6d3ec4.js"><link rel="prefetch" href="/assets/js/321.e5acb585.js"><link rel="prefetch" href="/assets/js/322.21a46169.js"><link rel="prefetch" href="/assets/js/323.e516c3c1.js"><link rel="prefetch" href="/assets/js/324.fc384d55.js"><link rel="prefetch" href="/assets/js/325.fddd4d1f.js"><link rel="prefetch" href="/assets/js/326.1216d7e6.js"><link rel="prefetch" href="/assets/js/327.5a509ea2.js"><link rel="prefetch" href="/assets/js/328.96e654ce.js"><link rel="prefetch" href="/assets/js/329.6490bb93.js"><link rel="prefetch" href="/assets/js/33.0b8f77e2.js"><link rel="prefetch" href="/assets/js/330.a5544969.js"><link rel="prefetch" href="/assets/js/331.1256acf2.js"><link rel="prefetch" href="/assets/js/332.77552d0d.js"><link rel="prefetch" href="/assets/js/333.b6118fe6.js"><link rel="prefetch" href="/assets/js/334.05c640d3.js"><link rel="prefetch" href="/assets/js/335.04fe4ec2.js"><link rel="prefetch" href="/assets/js/336.26be0b24.js"><link rel="prefetch" href="/assets/js/337.a0d3d335.js"><link rel="prefetch" href="/assets/js/338.a4fe11ee.js"><link rel="prefetch" href="/assets/js/339.d47120cc.js"><link rel="prefetch" href="/assets/js/34.2f5e6742.js"><link rel="prefetch" href="/assets/js/340.7a58ee44.js"><link rel="prefetch" href="/assets/js/341.e61bd730.js"><link rel="prefetch" href="/assets/js/342.9d4bf67a.js"><link rel="prefetch" href="/assets/js/343.501962dc.js"><link rel="prefetch" href="/assets/js/344.ce3275c8.js"><link rel="prefetch" href="/assets/js/345.628fe9bc.js"><link rel="prefetch" href="/assets/js/346.0e49381a.js"><link rel="prefetch" href="/assets/js/347.dabb1dad.js"><link rel="prefetch" href="/assets/js/348.29817914.js"><link rel="prefetch" href="/assets/js/349.6e298ba8.js"><link rel="prefetch" href="/assets/js/35.20e83899.js"><link rel="prefetch" href="/assets/js/350.91f21476.js"><link rel="prefetch" href="/assets/js/351.5b581bd3.js"><link rel="prefetch" href="/assets/js/352.45a6a379.js"><link rel="prefetch" href="/assets/js/353.6d639f09.js"><link rel="prefetch" href="/assets/js/354.5a17e2f0.js"><link rel="prefetch" href="/assets/js/355.719bfa5a.js"><link rel="prefetch" href="/assets/js/357.209a59e5.js"><link rel="prefetch" href="/assets/js/358.32ef7d43.js"><link rel="prefetch" href="/assets/js/359.b318203e.js"><link rel="prefetch" href="/assets/js/36.772901c4.js"><link rel="prefetch" href="/assets/js/360.a1aa990b.js"><link rel="prefetch" href="/assets/js/361.30f9ac52.js"><link rel="prefetch" href="/assets/js/362.ab4a7269.js"><link rel="prefetch" href="/assets/js/363.573581ce.js"><link rel="prefetch" href="/assets/js/364.ea4b3381.js"><link rel="prefetch" href="/assets/js/365.74cce6af.js"><link rel="prefetch" href="/assets/js/366.920816b1.js"><link rel="prefetch" href="/assets/js/367.e7f7ec5b.js"><link rel="prefetch" href="/assets/js/368.fd3e4f57.js"><link rel="prefetch" href="/assets/js/369.8658b369.js"><link rel="prefetch" href="/assets/js/37.ae1a2a4a.js"><link rel="prefetch" href="/assets/js/370.5d9237ce.js"><link rel="prefetch" href="/assets/js/371.475db0bd.js"><link rel="prefetch" href="/assets/js/372.a63267bb.js"><link rel="prefetch" href="/assets/js/373.300c140d.js"><link rel="prefetch" href="/assets/js/374.3991ef47.js"><link rel="prefetch" href="/assets/js/375.3a151889.js"><link rel="prefetch" href="/assets/js/376.155192c5.js"><link rel="prefetch" href="/assets/js/377.2cb4647b.js"><link rel="prefetch" href="/assets/js/378.413266f8.js"><link rel="prefetch" href="/assets/js/379.b9d8217c.js"><link rel="prefetch" href="/assets/js/38.f72f42bd.js"><link rel="prefetch" href="/assets/js/380.38c60295.js"><link rel="prefetch" href="/assets/js/381.6f6ca9a3.js"><link rel="prefetch" href="/assets/js/382.09f8537e.js"><link rel="prefetch" href="/assets/js/383.cf560d98.js"><link rel="prefetch" href="/assets/js/384.ee7a21e3.js"><link rel="prefetch" href="/assets/js/385.9dc79de9.js"><link rel="prefetch" href="/assets/js/386.907326f4.js"><link rel="prefetch" href="/assets/js/387.d1e350d8.js"><link rel="prefetch" href="/assets/js/388.81d91e3a.js"><link rel="prefetch" href="/assets/js/389.6eb5097c.js"><link rel="prefetch" href="/assets/js/39.6ec3b0ba.js"><link rel="prefetch" href="/assets/js/390.59503d27.js"><link rel="prefetch" href="/assets/js/391.c3d27d8f.js"><link rel="prefetch" href="/assets/js/392.ad4becb1.js"><link rel="prefetch" href="/assets/js/393.fdc72691.js"><link rel="prefetch" href="/assets/js/394.0f637dbc.js"><link rel="prefetch" href="/assets/js/395.05a6897d.js"><link rel="prefetch" href="/assets/js/396.8e5e0990.js"><link rel="prefetch" href="/assets/js/397.4110b833.js"><link rel="prefetch" href="/assets/js/398.28fb56aa.js"><link rel="prefetch" href="/assets/js/399.893fcf6d.js"><link rel="prefetch" href="/assets/js/4.ed7772fd.js"><link rel="prefetch" href="/assets/js/40.64c56a23.js"><link rel="prefetch" href="/assets/js/400.c88c4b4e.js"><link rel="prefetch" href="/assets/js/401.2a3fd250.js"><link rel="prefetch" href="/assets/js/402.e0e5ccb5.js"><link rel="prefetch" href="/assets/js/403.8b8e1c4e.js"><link rel="prefetch" href="/assets/js/404.58276bee.js"><link rel="prefetch" href="/assets/js/405.982510c9.js"><link rel="prefetch" href="/assets/js/406.bc50b634.js"><link rel="prefetch" href="/assets/js/407.781c59e6.js"><link rel="prefetch" href="/assets/js/408.30eed933.js"><link rel="prefetch" href="/assets/js/409.bc9777c1.js"><link rel="prefetch" href="/assets/js/41.0e462988.js"><link rel="prefetch" href="/assets/js/410.07463ff2.js"><link rel="prefetch" href="/assets/js/411.04167034.js"><link rel="prefetch" href="/assets/js/412.a013ec19.js"><link rel="prefetch" href="/assets/js/413.bb6efe54.js"><link rel="prefetch" href="/assets/js/414.e330d0f2.js"><link rel="prefetch" href="/assets/js/415.a1f936b2.js"><link rel="prefetch" href="/assets/js/416.128ae43e.js"><link rel="prefetch" href="/assets/js/417.21e8daf7.js"><link rel="prefetch" href="/assets/js/418.aa709e52.js"><link rel="prefetch" href="/assets/js/419.b0f307de.js"><link rel="prefetch" href="/assets/js/42.ec6c4fb9.js"><link rel="prefetch" href="/assets/js/420.89a47904.js"><link rel="prefetch" href="/assets/js/421.74b93419.js"><link rel="prefetch" href="/assets/js/422.c72cd71d.js"><link rel="prefetch" href="/assets/js/423.7390a522.js"><link rel="prefetch" href="/assets/js/424.a22da308.js"><link rel="prefetch" href="/assets/js/425.1546bf88.js"><link rel="prefetch" href="/assets/js/426.22b6351a.js"><link rel="prefetch" href="/assets/js/427.fc6ed465.js"><link rel="prefetch" href="/assets/js/428.4d4e5449.js"><link rel="prefetch" href="/assets/js/429.a46d4bf7.js"><link rel="prefetch" href="/assets/js/43.c916fbdc.js"><link rel="prefetch" href="/assets/js/430.8673a4a0.js"><link rel="prefetch" href="/assets/js/431.bb88c9ed.js"><link rel="prefetch" href="/assets/js/432.302085d7.js"><link rel="prefetch" href="/assets/js/433.a709fb96.js"><link rel="prefetch" href="/assets/js/434.0bf597e1.js"><link rel="prefetch" href="/assets/js/435.dfe2f4fb.js"><link rel="prefetch" href="/assets/js/436.16df716f.js"><link rel="prefetch" href="/assets/js/437.c2f0262d.js"><link rel="prefetch" href="/assets/js/438.cb71e7f2.js"><link rel="prefetch" href="/assets/js/439.5b67dd64.js"><link rel="prefetch" href="/assets/js/44.793c12ca.js"><link rel="prefetch" href="/assets/js/440.6850d762.js"><link rel="prefetch" href="/assets/js/441.08d976da.js"><link rel="prefetch" href="/assets/js/442.ca6dcf58.js"><link rel="prefetch" href="/assets/js/443.383aa102.js"><link rel="prefetch" href="/assets/js/444.2d621540.js"><link rel="prefetch" href="/assets/js/445.99b6514c.js"><link rel="prefetch" href="/assets/js/446.14d3a0f6.js"><link rel="prefetch" href="/assets/js/447.f636c0af.js"><link rel="prefetch" href="/assets/js/448.959e92db.js"><link rel="prefetch" href="/assets/js/449.6df86903.js"><link rel="prefetch" href="/assets/js/45.a041b08a.js"><link rel="prefetch" href="/assets/js/450.9914d79d.js"><link rel="prefetch" href="/assets/js/451.91944e8c.js"><link rel="prefetch" href="/assets/js/452.8c101302.js"><link rel="prefetch" href="/assets/js/453.d5cbfc75.js"><link rel="prefetch" href="/assets/js/454.124c0659.js"><link rel="prefetch" href="/assets/js/455.c4f820cc.js"><link rel="prefetch" href="/assets/js/456.93b9a861.js"><link rel="prefetch" href="/assets/js/457.7d81f5b2.js"><link rel="prefetch" href="/assets/js/458.eca9be2a.js"><link rel="prefetch" href="/assets/js/459.2938c6db.js"><link rel="prefetch" href="/assets/js/46.274f163c.js"><link rel="prefetch" href="/assets/js/460.6d7b8446.js"><link rel="prefetch" href="/assets/js/461.c63cf54b.js"><link rel="prefetch" href="/assets/js/462.a0adf5db.js"><link rel="prefetch" href="/assets/js/463.24c8a1a3.js"><link rel="prefetch" href="/assets/js/464.87af11bd.js"><link rel="prefetch" href="/assets/js/465.8364a6a5.js"><link rel="prefetch" href="/assets/js/466.95efe6e7.js"><link rel="prefetch" href="/assets/js/467.27430f62.js"><link rel="prefetch" href="/assets/js/468.406d77b3.js"><link rel="prefetch" href="/assets/js/469.c5411cc2.js"><link rel="prefetch" href="/assets/js/47.1f3f336c.js"><link rel="prefetch" href="/assets/js/48.60170da4.js"><link rel="prefetch" href="/assets/js/49.a2220e75.js"><link rel="prefetch" href="/assets/js/5.587460cf.js"><link rel="prefetch" href="/assets/js/50.324e4425.js"><link rel="prefetch" href="/assets/js/51.e6fdf020.js"><link rel="prefetch" href="/assets/js/52.6f90fb4b.js"><link rel="prefetch" href="/assets/js/53.97f5f30a.js"><link rel="prefetch" href="/assets/js/54.44aa3524.js"><link rel="prefetch" href="/assets/js/55.797c0470.js"><link rel="prefetch" href="/assets/js/56.659de1e7.js"><link rel="prefetch" href="/assets/js/57.eaacddd3.js"><link rel="prefetch" href="/assets/js/58.e2c76165.js"><link rel="prefetch" href="/assets/js/59.80bd29af.js"><link rel="prefetch" href="/assets/js/6.61cb913b.js"><link rel="prefetch" href="/assets/js/60.447237d4.js"><link rel="prefetch" href="/assets/js/61.eca41165.js"><link rel="prefetch" href="/assets/js/62.517711c0.js"><link rel="prefetch" href="/assets/js/63.2d6d2059.js"><link rel="prefetch" href="/assets/js/64.183fc8c8.js"><link rel="prefetch" href="/assets/js/65.c60890f1.js"><link rel="prefetch" href="/assets/js/66.214142ff.js"><link rel="prefetch" href="/assets/js/67.7690b077.js"><link rel="prefetch" href="/assets/js/68.fc2f0855.js"><link rel="prefetch" href="/assets/js/69.0acc91da.js"><link rel="prefetch" href="/assets/js/7.c376729c.js"><link rel="prefetch" href="/assets/js/70.c5df5bff.js"><link rel="prefetch" href="/assets/js/71.7790906e.js"><link rel="prefetch" href="/assets/js/72.12f9609c.js"><link rel="prefetch" href="/assets/js/73.1edf6c53.js"><link rel="prefetch" href="/assets/js/74.a3dd19b4.js"><link rel="prefetch" href="/assets/js/75.b8429a49.js"><link rel="prefetch" href="/assets/js/76.28351cb7.js"><link rel="prefetch" href="/assets/js/77.d9e03a06.js"><link rel="prefetch" href="/assets/js/78.8decdae6.js"><link rel="prefetch" href="/assets/js/79.6a4e9abe.js"><link rel="prefetch" href="/assets/js/8.5d9428d5.js"><link rel="prefetch" href="/assets/js/80.c9f4c715.js"><link rel="prefetch" href="/assets/js/81.0bab081e.js"><link rel="prefetch" href="/assets/js/82.5a1e59b5.js"><link rel="prefetch" href="/assets/js/83.313f94ef.js"><link rel="prefetch" href="/assets/js/84.c3ab3b5f.js"><link rel="prefetch" href="/assets/js/85.86008475.js"><link rel="prefetch" href="/assets/js/86.2d675ac8.js"><link rel="prefetch" href="/assets/js/87.6095c6d5.js"><link rel="prefetch" href="/assets/js/88.d2341f54.js"><link rel="prefetch" href="/assets/js/89.4b537082.js"><link rel="prefetch" href="/assets/js/9.18666140.js"><link rel="prefetch" href="/assets/js/90.b23c5097.js"><link rel="prefetch" href="/assets/js/91.da4073d4.js"><link rel="prefetch" href="/assets/js/92.1a7dabc2.js"><link rel="prefetch" href="/assets/js/93.8166954c.js"><link rel="prefetch" href="/assets/js/94.9d0a15cd.js"><link rel="prefetch" href="/assets/js/95.668a87ba.js"><link rel="prefetch" href="/assets/js/96.9787316a.js"><link rel="prefetch" href="/assets/js/97.6dbbe41a.js"><link rel="prefetch" href="/assets/js/98.d7b83957.js"><link rel="prefetch" href="/assets/js/99.2d081394.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b2b5e418.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Web Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/algorithm/" class="nav-link">
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/base/computed-network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/base/fundamentals-of-compiling/" class="nav-link">
  编译原理
</a></li><li class="dropdown-item"><!----> <a href="/base/design-patterns/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/base/software-engineering/" class="nav-link">
  软件工程
</a></li><li class="dropdown-item"><!----> <a href="/base/git/" class="nav-link">
  Git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/front-end/html5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/front-end/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/front-end/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/front-end/node/" class="nav-link router-link-active">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/front-end/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/front-end/engineering/" class="nav-link">
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/front-end/business-related/" class="nav-link">
  开发技巧
</a></li><li class="dropdown-item"><!----> <a href="/front-end/project-setup/" class="nav-link">
  开发流程
</a></li><li class="dropdown-item"><!----> <a href="/front-end/applet/" class="nav-link">
  小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/back-end/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/back-end/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/back-end/mongodb/" class="nav-link">
  MongoDB
</a></li><li class="dropdown-item"><!----> <a href="/back-end/mysql/" class="nav-link">
  MySQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><span class="title">Python</span> <span class="arrow down"></span></button> <button type="button" aria-label="Python" class="mobile-dropdown-title"><span class="title">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/syntax/" class="nav-link">
  语法
</a></li><li class="dropdown-item"><!----> <a href="/python/module/" class="nav-link">
  模块
</a></li><li class="dropdown-item"><!----> <a href="/python/crawler/" class="nav-link">
  爬虫
</a></li><li class="dropdown-item"><!----> <a href="/python/automation/" class="nav-link">
  自动化
</a></li></ul></div></div><div class="nav-item"><a href="/r/" class="nav-link">
  R 语言
</a></div><div class="nav-item"><a href="/post/" class="nav-link">
  博文
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/growth/" class="nav-link">
  保持学习
</a></li><li class="dropdown-item"><!----> <a href="/other/tools/" class="nav-link">
  常用工具
</a></li><li class="dropdown-item"><!----> <a href="/other/editor/" class="nav-link">
  编辑器
</a></li><li class="dropdown-item"><!----> <a href="/other/expect-tech/" class="nav-link">
  技术之外
</a></li><li class="dropdown-item"><!----> <a href="/other/" class="nav-link">
  关于
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/algorithm/" class="nav-link">
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/base/computed-network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/base/fundamentals-of-compiling/" class="nav-link">
  编译原理
</a></li><li class="dropdown-item"><!----> <a href="/base/design-patterns/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/base/software-engineering/" class="nav-link">
  软件工程
</a></li><li class="dropdown-item"><!----> <a href="/base/git/" class="nav-link">
  Git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/front-end/html5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/front-end/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/front-end/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/front-end/node/" class="nav-link router-link-active">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/front-end/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/front-end/engineering/" class="nav-link">
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/front-end/business-related/" class="nav-link">
  开发技巧
</a></li><li class="dropdown-item"><!----> <a href="/front-end/project-setup/" class="nav-link">
  开发流程
</a></li><li class="dropdown-item"><!----> <a href="/front-end/applet/" class="nav-link">
  小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back-end/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/back-end/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/back-end/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/back-end/mongodb/" class="nav-link">
  MongoDB
</a></li><li class="dropdown-item"><!----> <a href="/back-end/mysql/" class="nav-link">
  MySQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><span class="title">Python</span> <span class="arrow down"></span></button> <button type="button" aria-label="Python" class="mobile-dropdown-title"><span class="title">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/syntax/" class="nav-link">
  语法
</a></li><li class="dropdown-item"><!----> <a href="/python/module/" class="nav-link">
  模块
</a></li><li class="dropdown-item"><!----> <a href="/python/crawler/" class="nav-link">
  爬虫
</a></li><li class="dropdown-item"><!----> <a href="/python/automation/" class="nav-link">
  自动化
</a></li></ul></div></div><div class="nav-item"><a href="/r/" class="nav-link">
  R 语言
</a></div><div class="nav-item"><a href="/post/" class="nav-link">
  博文
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/growth/" class="nav-link">
  保持学习
</a></li><li class="dropdown-item"><!----> <a href="/other/tools/" class="nav-link">
  常用工具
</a></li><li class="dropdown-item"><!----> <a href="/other/editor/" class="nav-link">
  编辑器
</a></li><li class="dropdown-item"><!----> <a href="/other/expect-tech/" class="nav-link">
  技术之外
</a></li><li class="dropdown-item"><!----> <a href="/other/" class="nav-link">
  关于
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>全局属性</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front-end/node/global/dirname.html" class="sidebar-link">__dirname</a></li><li><a href="/front-end/node/global/filename.html" class="sidebar-link">__filename</a></li><li><a href="/front-end/node/global/console.html" class="sidebar-link">console</a></li><li><a href="/front-end/node/global/timer.html" class="sidebar-link">timer</a></li><li><a href="/front-end/node/global/process.html" class="sidebar-link">process</a></li><li><a href="/front-end/node/global/buffer.html" aria-current="page" class="active sidebar-link">Buffer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#介绍" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#简介" class="sidebar-link">简介</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#字符编码" class="sidebar-link">字符编码</a></li></ul></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#创建缓冲区" class="sidebar-link">创建缓冲区</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#属性" class="sidebar-link">属性</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#方法" class="sidebar-link">方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#写入" class="sidebar-link">写入</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#填充" class="sidebar-link">填充</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#转化" class="sidebar-link">转化</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#合并" class="sidebar-link">合并</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#复制" class="sidebar-link">复制</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#转码" class="sidebar-link">转码</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#切片" class="sidebar-link">切片</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#交换" class="sidebar-link">交换</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#比较" class="sidebar-link">比较</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#迭代" class="sidebar-link">迭代</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#读取-写入" class="sidebar-link">读取/写入</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#其他" class="sidebar-link">其他</a></li></ul></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#使用技巧" class="sidebar-link">使用技巧</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#修改字符编码" class="sidebar-link">修改字符编码</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#处理-data-uris" class="sidebar-link">处理 Data URIs</a></li><li class="sidebar-sub-header"><a href="/front-end/node/global/buffer.html#二进制文件转-json" class="sidebar-link">二进制文件转 JSON</a></li></ul></li></ul></li><li><a href="/front-end/node/global/stream.html" class="sidebar-link">Stream</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>原生模块</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>专题：异步编程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>专题：使用技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>专题：框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MySQL</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MongoDB</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Redis</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <h3 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h3> <ul><li><a href="http://nodejs.cn/api/buffer.html" target="_blank" rel="noopener noreferrer">Buffer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 用来创建一个专门存放二进制数据的缓存区</li> <li><code>Buffer</code> 类似于一个整数数组，但它对应于 V8 堆内存之外的一块原始内存</li> <li>是 JavaScript 的 Uint8Array 类的子类，且继承时带上了涵盖额外用例的方法，只要支持 Buffer 的地方，Node.js API 都可以接受普通的 Uint8Array</li> <li><code>buffer</code> 模块提供了一些属性和方法，使用时需要 <code>require('buffer')</code> 引入</li></ul> <h3 id="字符编码"><a href="#字符编码" class="header-anchor">#</a> 字符编码</h3> <ul><li>创建的 <code>Buffer</code> 实例一般用于表示编码字符的序列，通过使用显式的字符编码，就可以在 <code>Buffer</code> 实例与普通的 <code>JavaScript</code> 字符串之间进行相互转换</li> <li><code>Node</code> 支持的字符编码：</li></ul> <table><thead><tr><th>编码</th> <th>描述</th> <th>备注</th></tr></thead> <tbody><tr><td>ascii</td> <td>仅支持 7 位 <code>ASCII</code> 数据</td> <td>如果设置去掉高位的话，这种编码是非常快的</td></tr> <tr><td>utf8</td> <td>多字节编码的 <code>Unicode</code> 字符</td> <td>许多网页和文档格式使用的格式</td></tr> <tr><td>utf16le</td> <td>2 或 4 个字节，小字节序编码的 <code>Unicode</code> 字符</td> <td></td></tr> <tr><td>ucs2</td> <td><code>utf16le</code> 的别名</td> <td></td></tr> <tr><td>base64</td> <td><code>Base64</code> 编码</td> <td></td></tr> <tr><td>latin1</td> <td>一种把 <code>Buffer</code> 编码成一字节编码的字符串的方式</td> <td></td></tr> <tr><td>binary</td> <td><code>latin1</code> 的别名</td> <td></td></tr> <tr><td>hex</td> <td>将每个字节编码为两个十六进制字符</td> <td></td></tr></tbody></table> <h2 id="创建缓冲区"><a href="#创建缓冲区" class="header-anchor">#</a> 创建缓冲区</h2> <p>  在 v6.0 之前直接使用 <code>new Buffer()</code> 构造函数来创建 <code>Buffer</code> 对象实例，出于安全性，在 v6.0 以后，官方文档建议使用 <code>Buffer.from()</code> 接口创建 <code>Buffer</code> 对象实例:</p> <ul><li><code>Buffer.from(buf)</code>：拷贝已有缓存区</li> <li><code>Buffer.from(array)</code>：从整数数组创建缓冲区</li> <li><code>Buffer.from(string[, encoding)</code>：从字符串创建缓冲区</li> <li><code>Buffer.from(arrayBuffer[, byteOffset[, length]])</code>：从 <code>ArrayBuffer</code> 创建缓冲区</li> <li><code>Buffer.from(object[, offsetOrEncoding[, length]])</code>：从一个对象创建缓冲区(该对象拥有 <code>Symbol.toPrimitive</code> 或 <code>valueOf()</code>)</li> <li><code>Buffer.alloc(size[, fill[, encoding]])</code>：创建一个指定大小的缓冲区，并用指定值填充</li> <li><code>Buffer.allocUnsafe(size)</code>：创建一个指定大小的未初始化的缓冲区</li> <li><code>Buffer.allocUnsafeSlow(size)</code>：创建一个指定大小的未初始化的缓冲区</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 从数组创建</span>
<span class="token keyword">const</span> buf1 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ABC</span>

<span class="token comment">// 拷贝已有缓冲区</span>
<span class="token keyword">const</span> buf2 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>buf1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ABC</span>

<span class="token comment">// 从字符串创建</span>
<span class="token keyword">const</span> buf3 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'ABC'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf3<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ABC</span>

<span class="token comment">// 从对象创建</span>
<span class="token keyword">const</span> buf4 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'ABC'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf4<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ABC</span>

<span class="token comment">// 从 ArrayBuffer 创建</span>
<span class="token keyword">const</span> buf5 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
buf5<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf5<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// AAA</span>

<span class="token comment">// 使用 alloc</span>
<span class="token keyword">const</span> buf6 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf6<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// AAA</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">说明：</p> <ul><li>创建的缓冲区大小区间为 [0, <code>buffer.constants.MAX_LENGTH</code>]，否则抛出 <code>ERR_INVALID_OPT_VALUE</code></li> <li><code>allocUnsafeSlow()</code> 应该只用作开发人员已经在其应用程序中观察到过度的内存之后的最后手段</li></ul></div> <h2 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h2> <p><strong>静态属性：</strong></p> <ul><li><code>Buffer.poolSize</code>：缓冲池预分配的内部 <code>Buffer</code> 实例的字节大小</li></ul> <p><strong>实例属性：</strong></p> <ul><li><code>buf.length</code>：返回内存分配的字节数(不一定反映实例可用数据的字节量)</li> <li><code>buf.buffer</code> 创建实例时的底层 <code>ArrayBuffer</code> 对象</li> <li><code>buf.byteOffset</code> 创建实例时的底层 <code>ArrayBuffer</code> 对象的 <code>byteOffset</code></li> <li><code>buf[index]</code>：获取/设置指定的位置的八位字节(指向单个字节，有效范围是 0x00~0xFF 或 0~255)</li></ul> <p><strong>buffer 模块属性：</strong></p> <ul><li><code>buffer.kMaxLength</code>：分配给单个 <code>Buffer</code> 实例的最大内存</li> <li><code>buffer.INSPECT_MAX_BYTES</code>：调用 <code>buf.inspect()</code> 时会返回的最大字节数</li> <li><code>buffer.constants</code>: 包含两个常量值：
<ul><li><code>MAX_STRING_LENGTH</code>：单个 <code>string</code> 实例允许的最大长度(取决于 JS 引擎)</li> <li><code>MAX_LENGTH</code>：单个 <code>Buffer</code> 实例允许的最大内存，32 位架构为 2^30-1(约1GB)，64 位架构为 2^31-1(约2GB)</li></ul></li></ul> <h2 id="方法"><a href="#方法" class="header-anchor">#</a> 方法</h2> <h3 id="写入"><a href="#写入" class="header-anchor">#</a> 写入</h3> <ul><li><code>buf.write(string[, offset[, length]][, encoding])</code>: 将数据写入缓冲区</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buf <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'Hi'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// HiC</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">说明：</p> <ul><li>如果实例没有足够的空间，则只会写入 <code>string</code> 的一部分，只编码了一部分的字符不会被写入</li></ul></div> <h3 id="填充"><a href="#填充" class="header-anchor">#</a> 填充</h3> <ul><li><code>buf.fill(value[, offset[, end]][, encoding])</code>: 用指定值填充缓冲区</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buf <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">'H'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// HHH</span>
</code></pre></div><h3 id="转化"><a href="#转化" class="header-anchor">#</a> 转化</h3> <ul><li><code>buf.toString([encoding[, start[, end]]])</code>: 返回缓冲区数据的 <code>String</code> 格式(默认编码为 utf8)</li> <li><code>buf.toJSON()</code>: 返回缓冲区数据的 <code>JSON</code> 格式</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buf <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ABC</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// { type: 'Buffer', data: [ 65, 66, 67 ] }</span>
</code></pre></div><h3 id="合并"><a href="#合并" class="header-anchor">#</a> 合并</h3> <ul><li><code>Buffer.concat(list[, totalLength])</code>: 将缓冲区列表合并成一个新的缓冲区</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buf1 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> buf2 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">69</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> buf3 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>buf1<span class="token punctuation">,</span> buf2<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> buf2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ABC DEF</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf3<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                  <span class="token comment">// ABCDE</span>
</code></pre></div><h3 id="复制"><a href="#复制" class="header-anchor">#</a> 复制</h3> <ul><li><code>buf1.copy(buf2[, buf2Start[, buf1Start[, buf1End]]])</code>: 拷贝缓冲区(将 buf1 拷贝部分到 buf2)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buf1 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> buf2 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">69</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

buf1<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>buf2<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> buf2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ABC DBF</span>
</code></pre></div><h3 id="转码"><a href="#转码" class="header-anchor">#</a> 转码</h3> <ul><li><code>buffer.transcode(source, fromEnc, toEnc)</code>: 更改缓冲区编码，返回新的缓冲区</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buffer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'buffer'</span><span class="token punctuation">)</span>      <span class="token comment">// buffer 模块提供，需手动引入</span>

<span class="token keyword">const</span> buf <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>           <span class="token comment">// BC</span>

buffer<span class="token punctuation">.</span><span class="token function">transcode</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span> <span class="token string">'utf16le'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">'utf16le'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 䈁</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">备注：</p> <ul><li>支持的字符编码有 'ascii'、 'utf8'、 'utf16le'、 'ucs2'、 'latin1'、'binary'</li> <li>如果指定的字节序列无法用目标字符编码表示，则转码过程会使用替代的字符</li></ul></div> <h3 id="切片"><a href="#切片" class="header-anchor">#</a> 切片</h3> <ul><li><code>buf.slice([start[, end]])</code>: 返回一个缓冲区切片</li> <li><code>buf.subarray([start[, end]])</code>: 返回一个缓冲区切片，等同于 <code>buf.slice()</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buf1 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> buf2 <span class="token operator">=</span> buf1<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> buf2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ABC B</span>
</code></pre></div><ul><li>生成的切片缓冲区是原缓冲区的一份复制，它们指向同一块内存：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buf1 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> buf2 <span class="token operator">=</span> buf1<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> buf2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ABC B</span>

buf2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">90</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> buf2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// AZC Z</span>
</code></pre></div><h3 id="交换"><a href="#交换" class="header-anchor">#</a> 交换</h3> <ul><li><code>buf.swap16()</code>: 将缓冲区数据解析成无符号的 16 位整数的数组(<code>buf.length</code> 是 2 的倍数)</li> <li><code>buf.swap32()</code>: 将缓冲区数据解析成无符号的 32 位整数的数组(<code>buf.length</code> 是 4 的倍数)</li> <li><code>buf.swap64()</code>: 将缓冲区数据解析成 64 位数值的数组(<code>buf.length</code> 是 8 的倍数)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buf <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">69</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">71</span><span class="token punctuation">,</span> <span class="token number">72</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>          <span class="token comment">// ABCDEFGH</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">swap16</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// BADCFEHG</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">swap32</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// CDABGHEF</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">swap64</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// FEHGBADC</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">说明：</p> <ul><li>调用时必须保证 <code>buf.length</code> 的倍数关系，否则会抛出 <code>ERR_INVALID_BUFFER_SIZE</code> 异常</li></ul></div> <h3 id="比较"><a href="#比较" class="header-anchor">#</a> 比较</h3> <ul><li><code>Buffer.compare(buf1, buf2)</code>: 比较缓冲区，相当于 <code>buf1.compare(buf2)</code></li> <li><code>buf.compare(target[, targetStart[, targetEnd[, sourceStart[, sourceEnd]]]])</code>：比较两个缓冲区</li> <li><code>buf.equals(otherBuffer)</code>: 比较缓冲区的值是否相等</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buf1 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> buf2 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token punctuation">[</span>buf1<span class="token punctuation">,</span> buf2<span class="token punctuation">]</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token comment">// [ &lt;Buffer 42 43 44&gt;, &lt;Buffer 41 42 43&gt; ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>Buffer<span class="token punctuation">.</span>compare<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [ &lt;Buffer 41 42 43&gt;, &lt;Buffer 42 43 44&gt; ]</span>

<span class="token keyword">const</span> buf1 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> buf2 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'ABC'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>buf2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">说明：</p> <ul><li><code>Buffer.compare()</code>/<code>buf.compare()</code> 返回的是 -1/0/1，主要用于排序</li> <li><code>equals()</code> 返回一个布尔值</li></ul></div> <h3 id="迭代"><a href="#迭代" class="header-anchor">#</a> 迭代</h3> <ul><li>用 <code>for...of</code> 迭代</li> <li><code>buf.keys()</code>: 创建缓冲区的键迭代器</li> <li><code>buf.values()</code>: 创建缓冲区的值迭代器</li> <li><code>buf.entries()</code>: 创建缓冲区的键值迭代器</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> buf <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> code <span class="token keyword">of</span> buf<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 65</span>
<span class="token comment">// 66</span>
<span class="token comment">// 67</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> buf<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> buf<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> buf<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="读取-写入"><a href="#读取-写入" class="header-anchor">#</a> 读取/写入</h3> <ul><li>关于数据类型、符号、大小端的概念可参考 <a href="">操作系统 - 信息的表示和处理</a></li> <li>读取方法：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1bit 8 位 int</span>
buf<span class="token punctuation">.</span><span class="token function">readInt8</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readUInt8</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 2bit 16 位 int</span>
buf<span class="token punctuation">.</span><span class="token function">readInt16BE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readInt16LE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readUInt16BE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readUInt16LE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 4bit 32 位 int</span>
buf<span class="token punctuation">.</span><span class="token function">readInt32BE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readInt32LE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readUInt32BE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readUInt32LE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 8bit 64位 bigInt</span>
buf<span class="token punctuation">.</span><span class="token function">readBigInt64BE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readBigInt64LE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readBigUInt64BE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readBigUInt64LE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 指定 bit</span>
buf<span class="token punctuation">.</span><span class="token function">readIntBE</span><span class="token punctuation">(</span>offset<span class="token punctuation">,</span> byteLength<span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readIntLE</span><span class="token punctuation">(</span>offset<span class="token punctuation">,</span> byteLength<span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readUIntBE</span><span class="token punctuation">(</span>offset<span class="token punctuation">,</span> byteLength<span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readUIntLE</span><span class="token punctuation">(</span>offset<span class="token punctuation">,</span> byteLength<span class="token punctuation">)</span>

<span class="token comment">// 单精度浮点数</span>
buf<span class="token punctuation">.</span><span class="token function">readFloatBE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readFloatLE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 双精度浮点数</span>
buf<span class="token punctuation">.</span><span class="token function">readDoubleBE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">readDoubleLE</span><span class="token punctuation">(</span><span class="token punctuation">[</span>offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>写入二进制数据的方法与读取的类似，但增加了一个 value 参数，且位于首位：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1bit 8 位 int</span>
buf<span class="token punctuation">.</span><span class="token function">writeInt8</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeUInt8</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 2bit 16 位 int</span>
buf<span class="token punctuation">.</span><span class="token function">writeInt16BE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeInt16LE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeUInt16BE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeUInt16LE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 4bit 32 位 int</span>
buf<span class="token punctuation">.</span><span class="token function">writeInt32BE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeInt32LE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeUInt32BE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeUInt32LE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 8bit 64位 bigInt</span>
buf<span class="token punctuation">.</span><span class="token function">writeBigInt64BE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeBigInt64LE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeBigUInt64BE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeBigUInt64LE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 指定 bit 长度</span>
buf<span class="token punctuation">.</span><span class="token function">writeIntBE</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> byteLength<span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeIntLE</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> byteLength<span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeUIntBE</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> byteLength<span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeUIntLE</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> byteLength<span class="token punctuation">)</span>

<span class="token comment">// 单精度浮点数</span>
buf<span class="token punctuation">.</span><span class="token function">writeFloatBE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeFloatLE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 双精度浮点数</span>
buf<span class="token punctuation">.</span><span class="token function">writeDoubleBE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">writeDoubleLE</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> offset<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h3> <ul><li><code>Buffer.isBuffer(obj)</code>: 判断是否为一个缓冲区对象</li> <li><code>Buffer.isEncoding(encoding)</code>: 判断是否支持指定字符编码</li> <li><code>Buffer.byteLength(string[, encoding])</code>: 返回字符串的字节长度(<code>str.length</code> 返回的是字符数)</li> <li><code>buf.indexOf(value[, byteOffset][, encoding])</code>: 返回该值在缓冲区中首次出现的索引(不存在时为 -1)</li> <li><code>buf.lastIndexOf(value[, byteOffset][, encoding])</code>: 类似 <code>indexOf()</code>，但从缓冲区末尾开始迭代</li> <li><code>buf.includes(value[, byteOffset][, encoding])</code>: 判断缓冲区是否包含值，相当于 <code>buf.indexOf() !== -1</code></li></ul> <h2 id="使用技巧"><a href="#使用技巧" class="header-anchor">#</a> 使用技巧</h2> <h3 id="修改字符编码"><a href="#修改字符编码" class="header-anchor">#</a> 修改字符编码</h3> <ul><li>使用 Base64 对账号密码进行简单编码</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Alice'</span><span class="token punctuation">,</span>
  pass<span class="token operator">:</span> <span class="token string">'jj123456'</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> encoded <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>pass<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">'base64'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>encoded<span class="token punctuation">)</span>    <span class="token comment">// QWxpY2UtamoxMjM0NTY=</span>
</code></pre></div><h3 id="处理-data-uris"><a href="#处理-data-uris" class="header-anchor">#</a> 处理 Data URIs</h3> <ul><li>Data URIs 允许资源以行内编码的形式存在于 web 页面中，一般格式为：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>data:[MIME-type][;base64],&lt;data&gt;

# 在浏览器地址栏输入以下内容会显示 Hello World!
data:text/plain;base64,SGVsbG8sIFdvcmxkIQ
</code></pre></div><ul><li>写入文件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> uri <span class="token operator">=</span> <span class="token string">'data:text/plain;base64,SGVsbG8sIFdvcmxkIQ=='</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> uri<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> buf <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'base64'</span><span class="token punctuation">)</span>
fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span><span class="token string">'./hello.txt'</span><span class="token punctuation">,</span> buf<span class="token punctuation">)</span>
</code></pre></div><ul><li>将文件组织成 Data URIs</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> mime <span class="token operator">=</span> <span class="token string">'text/plain'</span>
<span class="token keyword">const</span> encoding <span class="token operator">=</span> <span class="token string">'base64'</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'./hello.txt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>encoding<span class="token punctuation">)</span>
<span class="token keyword">const</span> uri <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">data:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mime<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>encoding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span>    <span class="token comment">// data:text/plain;base64,SGVsbG8sIFdvcmxkIQ==</span>
</code></pre></div><h3 id="二进制文件转-json"><a href="#二进制文件转-json" class="header-anchor">#</a> 二进制文件转 JSON</h3> <ul><li>参考 <a href="https://book.douban.com/subject/26937390/" target="_blank" rel="noopener noreferrer">Node.js 硬实战<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> P49</li> <li>将 DBase 二进制文件转换为 JSON 文件，文件参考 <a href="https://github.com/gwaldron/osgearth/blob/master/data/world.dbf" target="_blank" rel="noopener noreferrer">world.dbf<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> header <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> buf <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'./world.dbf'</span><span class="token punctuation">)</span>
<span class="token comment">// 处理头部信息</span>
<span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
date<span class="token punctuation">.</span><span class="token function">setUTCFullYear</span><span class="token punctuation">(</span><span class="token number">1900</span> <span class="token operator">+</span> buf<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
date<span class="token punctuation">.</span><span class="token function">setUTCMonth</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
date<span class="token punctuation">.</span><span class="token function">setUTCDate</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

header<span class="token punctuation">.</span>lastUpdated <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span>   <span class="token comment">// 最后更新事件</span>
header<span class="token punctuation">.</span>totalRecords <span class="token operator">=</span> buf<span class="token punctuation">.</span><span class="token function">readUInt32LE</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>     <span class="token comment">// 记录条目数</span>
header<span class="token punctuation">.</span>bytesInHeader <span class="token operator">=</span> buf<span class="token punctuation">.</span><span class="token function">readUInt16LE</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>    <span class="token comment">// 头部总字节数</span>
header<span class="token punctuation">.</span>bytesPerRecord <span class="token operator">=</span> buf<span class="token punctuation">.</span><span class="token function">readUInt16LE</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment">// 记录部分字节数</span>

<span class="token comment">// 处理头部字段描述数组</span>
<span class="token keyword">const</span> fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> fieldTerminator <span class="token operator">=</span> <span class="token number">0x0D</span>
<span class="token keyword">let</span> fieldOffset <span class="token operator">=</span> <span class="token number">32</span>
<span class="token keyword">const</span> <span class="token constant">FIELD_TYPES</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">C</span><span class="token operator">:</span> <span class="token string">'Character'</span><span class="token punctuation">,</span>
  <span class="token constant">N</span><span class="token operator">:</span> <span class="token string">'Numeric'</span>
<span class="token punctuation">}</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>buf<span class="token punctuation">[</span>fieldOffset<span class="token punctuation">]</span> <span class="token operator">!==</span> fieldTerminator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> fieldBuf <span class="token operator">=</span> buf<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>fieldOffset<span class="token punctuation">,</span> fieldOffset <span class="token operator">+</span> <span class="token number">32</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> field <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  field<span class="token punctuation">.</span>name <span class="token operator">=</span> fieldBuf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\u0000</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
  field<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token constant">FIELD_TYPES</span><span class="token punctuation">[</span>fieldBuf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  field<span class="token punctuation">.</span>length <span class="token operator">=</span> fieldBuf<span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span>
  fields<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span>
  fieldOffset <span class="token operator">+=</span> <span class="token number">32</span>
<span class="token punctuation">}</span>

<span class="token comment">// 处理数据记录</span>
<span class="token keyword">const</span> startingRecordOffset <span class="token operator">=</span> header<span class="token punctuation">.</span>bytesInHeader
<span class="token keyword">const</span> records <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> header<span class="token punctuation">.</span>totalRecords<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> record <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">let</span> recordOffset <span class="token operator">=</span> startingRecordOffset <span class="token operator">+</span> i <span class="token operator">*</span> header<span class="token punctuation">.</span>bytesPerRecord
  record<span class="token punctuation">.</span>isDel <span class="token operator">=</span> buf<span class="token punctuation">.</span><span class="token function">readUInt8</span><span class="token punctuation">(</span>recordOffset<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0x2A</span>
  recordOffset<span class="token operator">++</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> fields<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    field <span class="token operator">=</span> fields<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    <span class="token keyword">const</span> Type <span class="token operator">=</span> field<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'Numeric'</span> <span class="token operator">?</span> Number <span class="token operator">:</span> String
    record<span class="token punctuation">[</span>field<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">Type</span><span class="token punctuation">(</span>
      buf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">,</span> recordOffset<span class="token punctuation">,</span> recordOffset <span class="token operator">+</span> field<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    recordOffset <span class="token operator">+=</span> field<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>

  records<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span><span class="token string">'./world.json'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> header<span class="token punctuation">,</span> fields<span class="token punctuation">,</span> records <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'\t'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/front-end/node/global/process.html" class="prev">
        process
      </a></span> <span class="next"><a href="/front-end/node/global/stream.html">
        Stream
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.a0f576ea.js" defer></script><script src="/assets/js/2.8a7b7341.js" defer></script><script src="/assets/js/356.33e6d239.js" defer></script>
  </body>
</html>
