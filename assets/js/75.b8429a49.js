(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{485:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"获取句柄"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取句柄"}},[t._v("#")]),t._v(" 获取句柄")]),t._v(" "),a("ul",[a("li",[t._v("方式1：使用 "),a("code",[t._v("getCollection()")])])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("use testDB\ndb.getCollection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newCollection'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("方式2：直接获取")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("use testDB\ndb.newCollection\n")])])]),a("h2",{attrs:{id:"增"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#增"}},[t._v("#")]),t._v(" 增")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("insert(document)")])])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("use testDB\ncoll "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" db.getCollection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newCollection'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncoll.insert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Anna'")]),t._v(", age: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncoll.insert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Alice'")]),t._v(", age: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'22'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[a("code",[t._v("save(document)")])])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("coll.save"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Zed'")]),t._v(", age: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'18'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"删"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删"}},[t._v("#")]),t._v(" 删")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("remove([query])")])])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("use testDB\ndb.newCollection.remove"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Anna'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除匹配的文档")]),t._v("\ndb.newCollection.remove"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除所有文档")]),t._v("\n")])])]),a("h2",{attrs:{id:"改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#改"}},[t._v("#")]),t._v(" 改")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("save(object)")]),t._v("：文档中 "),a("code",[t._v("_id")]),t._v(" 字段是唯一的，通过使用相同的 "),a("code",[t._v("_id")]),t._v(" 字段去覆盖文档(并不是添加)")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("\n")])])]),a("ul",[a("li",[a("code",[t._v("update(query, update, options)")])])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("use testDB\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 以下命令将所有年龄为20的文档的 job 字段的值设置为 'student'")]),t._v("\ndb.newCollection.update"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("age: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$set")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("job: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'student'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("upsert: false, multi: true"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 以下命令将覆盖对应 _id 字段的文档")]),t._v("\ndb.newCollection.update"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'_id'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5d594b30f464fc645f888fcf'")]),t._v(", age: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'21'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("update(query, update, options)")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("query")]),t._v("：指定字段和值与集合中匹配的文档，相当于用 "),a("code",[t._v("find(query)")]),t._v(" 查找到匹配的文档")]),t._v(" "),a("li",[a("code",[t._v("update")]),t._v("：一个对象，指定再更新时使用的更新运算符\n"),a("ul",[a("li",[a("code",[t._v("$inc")]),t._v("：递增字段值")]),t._v(" "),a("li",[a("code",[t._v("$set")]),t._v("：设置字段值")]),t._v(" "),a("li",[a("code",[t._v("$push")]),t._v("：将一个条目推送到数组")])])]),t._v(" "),a("li",[a("code",[t._v("options")]),t._v("：一个对象\n"),a("ul",[a("li",[a("code",[t._v("upsert")]),t._v("：布尔值，为 "),a("code",[t._v("true")]),t._v(" 则当没有找到就创建一个新的文档")]),t._v(" "),a("li",[a("code",[t._v("multi")]),t._v("： 布尔值，为 "),a("code",[t._v("true")]),t._v(" 则与查询匹配的所有文档都被更新，否则只有第一个文档被更新")])])])])]),t._v(" "),a("h2",{attrs:{id:"查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查"}},[t._v("#")]),t._v(" 查")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("find([query])")])])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("use testDB\ndb.newCollection.find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Anna'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 返回匹配的文档")]),t._v("\ndb.newCollection.find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 返回集合中所有文档")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);