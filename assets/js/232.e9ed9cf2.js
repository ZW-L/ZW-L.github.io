(window.webpackJsonp=window.webpackJsonp||[]).push([[232],{649:function(v,_,t){"use strict";t.r(_);var d=t(25),e=Object(d.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h2",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[v._v("#")]),v._v(" 概述")]),v._v(" "),t("p",[t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/audio",target:"_blank",rel:"noopener noreferrer"}},[v._v("audio"),t("OutboundLink")],1)]),v._v(" "),t("p",[v._v("  本文档记录关于 "),t("code",[v._v("<audio>")]),v._v(" 的事件属性和可绑定的事件监听。")]),v._v(" "),t("h2",{attrs:{id:"属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[v._v("#")]),v._v(" 属性")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("属性")]),v._v(" "),t("th",[v._v("描述")]),v._v(" "),t("th",[v._v("取值")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("autoplay")]),v._v(" "),t("td",[v._v("音频自动开始播放，无需等待整个音频文件完成下载")]),v._v(" "),t("td",[v._v("布尔值，默认 false。")])]),v._v(" "),t("tr",[t("td",[v._v("controls")]),v._v(" "),t("td",[v._v("浏览器提供控件允许用户控制音频播放(音量, 搜索, 暂停/继续播放)")]),v._v(" "),t("td",[v._v("布尔值，默认 false。")])]),v._v(" "),t("tr",[t("td",[v._v("loop")]),v._v(" "),t("td",[v._v("指定音频循环播放")]),v._v(" "),t("td",[v._v("布尔值，默认 false。")])]),v._v(" "),t("tr",[t("td",[v._v("muted")]),v._v(" "),t("td",[v._v("指示音频是否最初会静音")]),v._v(" "),t("td",[v._v("布尔值，默认 false。")])]),v._v(" "),t("tr",[t("td",[v._v("preload")]),v._v(" "),t("td",[v._v("向浏览器提示作者认为将带来最佳用户体验的内容")]),v._v(" "),t("td",[t("code",[v._v("none")]),v._v(": 不预加载音频"),t("br"),t("code",[v._v("metadata")]),v._v(": 仅获取音频元数据"),t("br"),t("code",[v._v("auto")]),v._v(": 下载整个音频文件"),t("br"),t("code",[v._v("空串")]),v._v(": 同 "),t("code",[v._v("auto")])])]),v._v(" "),t("tr",[t("td",[v._v("src")]),v._v(" "),t("td",[v._v("嵌入的音频的URL，受 "),t("code",[v._v("HTTP")]),v._v(" 访问控制的约束。"),t("br"),v._v("可以改为使用 "),t("code",[v._v("<source>")]),v._v(" 音频块中的元素来指​​定要嵌入的音频")]),v._v(" "),t("td",[v._v("URL")])]),v._v(" "),t("tr",[t("td",[v._v("currentTime")]),v._v(" "),t("td",[v._v("读取/设置音频的当前播放位置，以秒为单位")]),v._v(" "),t("td",[v._v("双精度浮点值")])]),v._v(" "),t("tr",[t("td",[v._v("duration")]),v._v(" "),t("td",[v._v("读取音频的总长度，以秒为单位")]),v._v(" "),t("td",[v._v("双精度浮点值(只读)")])]),v._v(" "),t("tr",[t("td",[v._v("ended")]),v._v(" "),t("td",[v._v("获取音频是否结束")]),v._v(" "),t("td",[v._v("布尔值(只读)")])]),v._v(" "),t("tr",[t("td",[v._v("paused")]),v._v(" "),t("td",[v._v("获取音频是否暂停")]),v._v(" "),t("td",[v._v("布尔值(只读)")])]),v._v(" "),t("tr",[t("td",[v._v("networkState")]),v._v(" "),t("td",[v._v("获取音频的网络状态")]),v._v(" "),t("td",[v._v("只读，对应值:"),t("br"),t("code",[v._v("0")]),v._v(": 尚未初始化"),t("br"),t("code",[v._v("1")]),v._v(": 已经选取资源，但未使用网络"),t("br"),t("code",[v._v("2")]),v._v(": 正在下载数据"),t("br"),t("code",[v._v("3")]),v._v(": 未找到资源")])]),v._v(" "),t("tr",[t("td",[v._v("readyState")]),v._v(" "),t("td",[v._v("获取音频当前状态")]),v._v(" "),t("td",[v._v("只读，对应值:"),t("br"),t("code",[v._v("0")]),v._v(": durationchange 事件触发之前"),t("br"),t("code",[v._v("1")]),v._v(": 音频元数据已获取"),t("br"),t("code",[v._v("2")]),v._v(": 当前播放位置的数据是可用的，但下一帧不一定可用"),t("br"),t("code",[v._v("3")]),v._v(": 当前及至少下一帧的数据是可用的"),t("br"),t("code",[v._v("4")]),v._v(": 可用数据足以开始播放")])]),v._v(" "),t("tr",[t("td",[v._v("buffered")]),v._v(" "),t("td",[v._v("获取已缓冲的时间区间")]),v._v(" "),t("td",[v._v("只读，属性:"),t("br"),t("code",[v._v("buffered.length")]),v._v(": 区间个数"),t("br"),t("code",[v._v("buffered.start(index)")]),v._v(": 指定索引区间的起始时间"),t("br"),t("code",[v._v("buffered.end(index)")]),v._v(": 指定索引区间的结束时间")])]),v._v(" "),t("tr",[t("td",[v._v("played")]),v._v(" "),t("td",[v._v("获取已播放的时间区间")]),v._v(" "),t("td",[v._v("只读，属性:"),t("br"),t("code",[v._v("played.length")]),v._v(": 区间个数"),t("br"),t("code",[v._v("played.start(index)")]),v._v(": 指定索引区间的起始时间"),t("br"),t("code",[v._v("played.end(index)")]),v._v(": 指定索引区间的结束时间")])]),v._v(" "),t("tr",[t("td",[v._v("seekable")]),v._v(" "),t("td",[v._v("获取可寻址的时间区间")]),v._v(" "),t("td",[v._v("只读，属性:"),t("br"),t("code",[v._v("seekable.length")]),v._v(": 区间个数"),t("br"),t("code",[v._v("seekable.start(index)")]),v._v(": 指定索引区间的起始时间"),t("br"),t("code",[v._v("seekable.end(index)")]),v._v(": 指定索引区间的结束时间")])]),v._v(" "),t("tr",[t("td",[v._v("seeking")]),v._v(" "),t("td",[v._v("获取用户是否在寻址，在 "),t("code",[v._v("seeking")]),v._v(" 事件中值为 "),t("code",[v._v("true")])]),v._v(" "),t("td",[v._v("布尔值(只读)")])]),v._v(" "),t("tr",[t("td",[v._v("volume")]),v._v(" "),t("td",[v._v("获取/设置音量值")]),v._v(" "),t("td",[v._v("浮点值，0~1。")])]),v._v(" "),t("tr",[t("td",[v._v("playbackRate")]),v._v(" "),t("td",[v._v("获取/设置播放倍速")]),v._v(" "),t("td",[v._v("浮点值，默认 1。")])]),v._v(" "),t("tr",[t("td",[v._v("crossorigin")]),v._v(" "),t("td",[v._v("指示是否使用 "),t("code",[v._v("CORS")]),v._v(" 来获取相关的音频文件")]),v._v(" "),t("td",[t("code",[v._v("anonymous")]),v._v(": 发送没有凭证的跨域请求"),t("br"),t("code",[v._v("use-credentials")]),v._v(": 发送带有凭据的跨域请求")])]),v._v(" "),t("tr",[t("td",[v._v("disableRemotePlayback")]),v._v(" "),t("td",[v._v("用于禁用使用有线（HDMI，DVI等）和无线技术（Miracast，Chromecast，DLNA，AirPlay等）"),t("br"),v._v("连接的设备中的远程播放功能")]),v._v(" "),t("td",[v._v("布尔值")])])])]),v._v(" "),t("p",[t("strong",[v._v("说明：")])]),v._v(" "),t("ul",[t("li",[t("code",[v._v("autoplay")]),v._v(", "),t("code",[v._v("controls")]),v._v(", "),t("code",[v._v("loop")]),v._v(", "),t("code",[v._v("muted")]),v._v(", "),t("code",[v._v("preload")]),v._v(", "),t("code",[v._v("src")]),v._v(" 都可以在 "),t("code",[v._v("<audio>")]),v._v(" 标签中快捷设置")])]),v._v(" "),t("h2",{attrs:{id:"事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[v._v("#")]),v._v(" 事件")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("事件")]),v._v(" "),t("th",[v._v("描述")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[t("font",{attrs:{color:"orange"}},[v._v("加载时")])],1),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("loadstart")]),v._v(" "),t("td",[v._v("浏览器开始寻找指定的媒体数据时")])]),v._v(" "),t("tr",[t("td",[v._v("progress")]),v._v(" "),t("td",[v._v("浏览器正在下载指定的媒体数据时")])]),v._v(" "),t("tr",[t("td",[v._v("suspend")]),v._v(" "),t("td",[v._v("媒体数据停止加载时(基本每个 progress 触发后都会触发)")])]),v._v(" "),t("tr",[t("td",[v._v("durationchange")]),v._v(" "),t("td",[v._v("媒体数据的时长改变时")])]),v._v(" "),t("tr",[t("td",[v._v("loadeddata")]),v._v(" "),t("td",[v._v("媒体的第一帧已完成加载时")])]),v._v(" "),t("tr",[t("td",[v._v("loadedmetadata")]),v._v(" "),t("td",[v._v("元数据已加载时")])]),v._v(" "),t("tr",[t("td",[v._v("canplay")]),v._v(" "),t("td",[v._v("浏览器可以播放媒体时(但是后面有可能需要缓冲)")])]),v._v(" "),t("tr",[t("td",[v._v("canplaythrough")]),v._v(" "),t("td",[v._v("浏览器可以播放媒体时(后面一段时间内不再需要缓冲)")])]),v._v(" "),t("tr",[t("td",[t("font",{attrs:{color:"orange"}},[v._v("加载出错时")])],1),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("abort")]),v._v(" "),t("td",[v._v("终止加载时(当前媒体正在加载，随后更改 src 时)")])]),v._v(" "),t("tr",[t("td",[v._v("error")]),v._v(" "),t("td",[v._v("加载发生错误时(loadstart 之后不能触发 progress 时)")])]),v._v(" "),t("tr",[t("td",[v._v("stalled")]),v._v(" "),t("td",[v._v("浏览器尝试获取媒体数据，但数据不可用时(加载过程中断开网络)")])]),v._v(" "),t("tr",[t("td",[v._v("emptied")]),v._v(" "),t("td",[v._v("媒体数据已经空了(更改 src 时)")])]),v._v(" "),t("tr",[t("td",[t("font",{attrs:{color:"orange"}},[v._v("播放过程中改变状态")])],1),v._v(" "),t("td")]),v._v(" "),t("tr",[t("td",[v._v("complete")]),v._v(" "),t("td",[v._v("离线音频加载完成时？")])]),v._v(" "),t("tr",[t("td",[v._v("play")]),v._v(" "),t("td",[v._v("可以开始播放时")])]),v._v(" "),t("tr",[t("td",[v._v("pause")]),v._v(" "),t("td",[v._v("播放暂停时")])]),v._v(" "),t("tr",[t("td",[v._v("ended")]),v._v(" "),t("td",[v._v("播放完毕时")])]),v._v(" "),t("tr",[t("td",[v._v("ratechange")]),v._v(" "),t("td",[v._v("播放速度改变时")])]),v._v(" "),t("tr",[t("td",[v._v("seeked")]),v._v(" "),t("td",[v._v("设置 currentTime 完成的瞬间(在 seeking 之后触发)")])]),v._v(" "),t("tr",[t("td",[v._v("seeking")]),v._v(" "),t("td",[v._v("设置 currentTime 的瞬间")])]),v._v(" "),t("tr",[t("td",[v._v("waiting")]),v._v(" "),t("td",[v._v("要播放下一帧需要缓冲时")])]),v._v(" "),t("tr",[t("td",[v._v("playing")]),v._v(" "),t("td",[v._v("暂停或缓冲后重新开始播放时")])]),v._v(" "),t("tr",[t("td",[v._v("timeupdate")]),v._v(" "),t("td",[v._v("currentTime 改变时(播放时会持续触发)")])]),v._v(" "),t("tr",[t("td",[v._v("volumechange")]),v._v(" "),t("td",[v._v("改变音量时")])])])]),v._v(" "),t("p",[t("strong",[v._v("说明：")])]),v._v(" "),t("ul",[t("li",[v._v("当 "),t("code",[v._v("preload")]),v._v(" 取默认值 "),t("code",[v._v("auto")]),v._v(" 时，为 "),t("code",[v._v("<audio>")]),v._v(" 添加音频源("),t("code",[v._v("src")]),v._v(")，加载事件的触发顺序为：\n"),t("ul",[t("li",[v._v("loadstart：第一个触发的事件，接着会加载音频资源持续触发 progress 事件")]),v._v(" "),t("li",[v._v("progress：会持续触发，在浏览器中会有一个阈值(智能加载，不会一次性加载)")]),v._v(" "),t("li",[v._v("durationchange：progress 持续触发时会先触发该事件获取音频时长，再触发 loadedmetadata 事件")]),v._v(" "),t("li",[v._v("loadedmetadata：位于 durationchange 事件之后，在 loadeddata 之前，表示已获取音频资源的元数据")]),v._v(" "),t("li",[v._v("loadeddata；在 loadedmetadata 之后，表示音频资源的第一帧已准备好")]),v._v(" "),t("li",[v._v("canplay：")]),v._v(" "),t("li",[v._v("canplaythrough：")])])])])])}),[],!1,null,null,null);_.default=e.exports}}]);