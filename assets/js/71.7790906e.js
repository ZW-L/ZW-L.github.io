(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{481:function(s,a,t){"use strict";t.r(a);var e=t(25),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[s._v("#")]),s._v(" 概念")]),s._v(" "),t("ul",[t("li",[s._v("shell 脚本是使用 shell 的功能编写的程序")]),s._v(" "),t("li",[s._v("它使用 shell 语法和命令，或搭配正则表达式、管道命令、数据流重定向等实现特定功能")]),s._v(" "),t("li",[s._v("它是纯文本的，即所有内容都会以字符串被对待")])]),s._v(" "),t("h3",{attrs:{id:"格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#格式"}},[s._v("#")]),s._v(" 格式")]),s._v(" "),t("ul",[t("li",[s._v("命令的执行是由上而下、由左到右的")]),s._v(" "),t("li",[s._v("注释：使用 "),t("code",[s._v("#")]),s._v(" 开头标注一行注释")]),s._v(" "),t("li",[s._v("换行：使用 "),t("code",[s._v("\\[Enter]")]),s._v(" 扩展到下一行")]),s._v(" "),t("li",[s._v("空白：命令、选项与参数间的多个空格会被忽略，空白行会被忽略，"),t("code",[s._v("[Tab]")]),s._v(" 产生的空白也视为空格")])]),s._v(" "),t("h3",{attrs:{id:"执行方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#执行方式"}},[s._v("#")]),s._v(" 执行方式")]),s._v(" "),t("p",[s._v("必须先设置 shell 脚本的 "),t("code",[s._v("rw")]),s._v(" 权限，才可执行：")]),s._v(" "),t("ul",[t("li",[s._v("绝对路径："),t("code",[s._v("/you/shell/path/shell.sh")]),s._v(" 执行")]),s._v(" "),t("li",[s._v("相对路径："),t("code",[s._v("./shell.sh")]),s._v(" 执行")]),s._v(" "),t("li",[s._v("拷贝到 PATH 指定的目录中：")]),s._v(" "),t("li",[s._v("使用 bash："),t("code",[s._v("bash shell.sh")]),s._v("(或 "),t("code",[s._v("sh shell.sh")]),s._v(") 执行")]),s._v(" "),t("li",[s._v("使用 source："),t("code",[s._v("source shell.sh")]),s._v(" 执行")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("说明：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("source")]),s._v(" 命令执行脚本时，会在父进程中执行，脚本设置的环境变量也会在父进程中生效")]),s._v(" "),t("li",[s._v("其他几种方式执行脚本时，都是新建一个 shell(子进程)来执行，导致执行完后变量会被销毁")]),s._v(" "),t("li",[s._v("就像我们使用 "),t("code",[s._v("source ./bashrc")]),s._v(" 来刷新设置而不是使用 "),t("code",[s._v("bash ./bashrc")])])])]),s._v(" "),t("h3",{attrs:{id:"编码习惯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编码习惯"}},[s._v("#")]),s._v(" 编码习惯")]),s._v(" "),t("ul",[t("li",[s._v("良好的注释：\n"),t("ul",[t("li",[s._v("第一行的 "),t("code",[s._v("#!/bin/bash")]),s._v(" 指定脚本使用的 shell")]),s._v(" "),t("li",[s._v("介绍脚本的功能")]),s._v(" "),t("li",[s._v("脚本的版本、版权(历史记录)、作者及联系方式")]),s._v(" "),t("li",[s._v("环境变量的预设和声明")]),s._v(" "),t("li",[s._v("特殊命令的说明")]),s._v(" "),t("li",[s._v("...")])])]),s._v(" "),t("li",[s._v("编辑器：使用有语法校验的 vim(而不是 vi)")])]),s._v(" "),t("h2",{attrs:{id:"变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#变量"}},[s._v("#")]),s._v(" 变量")]),s._v(" "),t("ul",[t("li",[s._v("一般来说，需要使用变量时要带 "),t("code",[s._v("$")]),s._v(" 前缀，而操作变量时不用前缀")]),s._v(" "),t("li",[t("code",[s._v("$variable")]),s._v(" 和 "),t("code",[s._v("${variable}")]),s._v(" 有相同效果，但建议使用后者")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Alice\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ab")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印空行，找不到 ab 这个变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${a}")]),s._v("b  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Aliceb")]),s._v("\n")])])]),t("ul",[t("li",[s._v("环境变量名都是大写，自定义变量建议全部小写(避免覆盖环境变量)")]),s._v(" "),t("li",[s._v("多个单词的变量使用下划线(_)连接，而不是中横线(- 在 shell 中指代参数)")])]),s._v(" "),t("h3",{attrs:{id:"变量声明和删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#变量声明和删除"}},[s._v("#")]),s._v(" 变量声明和删除")]),s._v(" "),t("ul",[t("li",[s._v("变量声明：不需要使用关键字，而且 "),t("code",[s._v("=")]),s._v(" 两侧不能有空格(shell 将空格作为命令或参数的分隔符)")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user_name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Alice\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$user_name")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Alice")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${user_name}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Alice")]),s._v("\n")])])]),t("ul",[t("li",[s._v("变量删除：使用 "),t("code",[s._v("unset")]),s._v(" 关键字")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user_name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Alice\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${user_name}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Alice")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("unset")]),s._v(" user_name   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${user_name}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印不存在的变量，相当于打印空串")]),s._v("\n")])])]),t("h3",{attrs:{id:"系统变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系统变量"}},[s._v("#")]),s._v(" 系统变量")]),s._v(" "),t("ul",[t("li",[s._v("系统变量都是以大写字母命名")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n")])])]),t("ul",[t("li",[s._v("系统变量的修改")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":/root/srv  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 对 PATH 的修改只能持续到退出或重启系统")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n")])])]),t("ul",[t("li",[s._v("持久化系统变量，修改 "),t("code",[s._v("~/.bashrc")])])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.bashrc\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加一行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":/root/my-path\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.bashrc\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出系统再重新登录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n")])])]),t("h3",{attrs:{id:"局部变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#局部变量"}},[s._v("#")]),s._v(" 局部变量")]),s._v(" "),t("ul",[t("li",[s._v("局部变量仅能在当前 shell 中获取，即使是子 shell 也不能使用")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user_name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Alice\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$user_name")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Alice")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$user_name")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 空行，不能获取父 shell 的局部变量")]),s._v("\n")])])]),t("h3",{attrs:{id:"全局变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局变量"}},[s._v("#")]),s._v(" 全局变量")]),s._v(" "),t("ul",[t("li",[s._v("父 shell 可以使用 "),t("code",[s._v("export")]),s._v(" 导出变量为全局，这样子 shell 就能读取")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user_name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Alice\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" user_name  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 导出为全局变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$user_name")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Alice")]),s._v("\n")])])]),t("ul",[t("li",[s._v("但是子 shell 修改或删除父 shell 的全局变量都会静默失败")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user_name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Alice\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" user_name\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$user_name")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Alice")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user_name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Anna\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$user_name")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Anna")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$user_name")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Alice")]),s._v("\n")])])]),t("h3",{attrs:{id:"默认变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#默认变量"}},[s._v("#")]),s._v(" 默认变量")]),s._v(" "),t("ul",[t("li",[s._v("每个脚本执行时都可以携带参数，这些参数可以以变量的形式在脚本内被访问")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Script name: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v('"')]),s._v("           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 脚本名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Parameter count: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v('"')]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 传入的参数个数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"First parameter: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数依次使用 $1, $2, ... 表示")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"All parameter: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以空格分割所有传入参数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shell process ID: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$$")]),s._v('"')]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前 shell 所在的进程 ID")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Exit code: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v('"')]),s._v("             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 程序退出码，成功时为 0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行: bash shell.sh Alice Anna Zed")]),s._v("\n")])])]),t("ul",[t("li",[s._v("还可以使用 "),t("code",[s._v("shift")]),s._v(" 对参数进行偏移")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Parameter count: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v('"')]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 6")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shift")]),s._v("                         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数位置偏移1个(理解为删除第一个参数)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Parameter count: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v('"')]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shift")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("                       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数位置偏移3个，会累加之前的偏移")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Parameter count: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v('"')]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"All parameter: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# five six")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行: bash shell.sh one two three four five six")]),s._v("\n")])])]),t("h3",{attrs:{id:"数组变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数组变量"}},[s._v("#")]),s._v(" 数组变量")]),s._v(" "),t("ul",[t("li",[s._v("数组变量的声明使用 "),t("code",[s._v("()")]),s._v(" 包含一串值，值之间使用空格分隔")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("nums")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("one two three four five"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("ul",[t("li",[s._v("访问数组元素要使用 "),t("code",[s._v("[]")])])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("nums")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("one two three four five"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$nums")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# one(输出第一个元素，不会输出整个数组)")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${nums"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# two")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${nums"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# one two three four five")]),s._v("\n")])])]),t("ul",[t("li",[s._v("赋值时也是使用 "),t("code",[s._v("[]")])])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("nums")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("one two three four five"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n$ nums"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ten\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${nums"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ten")]),s._v("\n")])])]),t("ul",[t("li",[s._v("可以使用 "),t("code",[s._v("unset")]),s._v(" 删除数组元素，但是只是将该索引的值清空")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("nums")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("one two three four five"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${nums"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# two")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("unset")]),s._v(" nums"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${nums"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 空值(并不是 three)")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${nums"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# three")]),s._v("\n")])])]),t("ul",[t("li",[s._v("由于数组变量会让事情很麻烦，所以很少用")])]),s._v(" "),t("h2",{attrs:{id:"数值运算"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数值运算"}},[s._v("#")]),s._v(" 数值运算")]),s._v(" "),t("ul",[t("li",[s._v("bash shell 仅支持整数的数值运算")]),s._v(" "),t("li",[s._v("使用 "),t("code",[s._v("$(( 表达式 ))")]),s._v(" 来进行数值运算，注意双括号内侧的空格不能缺省")]),s._v(" "),t("li",[s._v("赋值至变量时，不要在 "),t("code",[s._v("=")]),s._v(" 两侧添加空格，为了保证一致性，尽量在 "),t("code",[s._v("+-*/%")]),s._v(" 两端都不添加空格(虽然没有影响)")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Input 2 numbers, I will add them! '),t("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"first number: "')]),s._v(" anum\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"second number: "')]),s._v(" bnum\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式1: 直接计算")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${anum}")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${bnum}")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v(" ${anum}"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("${bnum} "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式2: 保存至变量，再输出")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v(" ${anum}"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("${bnum} "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${anum}")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${bnum}")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${sum}")]),s._v('"')]),s._v("\n")])])]),t("h3",{attrs:{id:"浮点数的运算"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浮点数的运算"}},[s._v("#")]),s._v(" 浮点数的运算")]),s._v(" "),t("ul",[t("li",[s._v("通过 bc 计算圆周率")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("\n")])])]),t("h2",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),t("ul",[t("li",[s._v("任何 shell 命令都能用在 shell 脚本中")]),s._v(" "),t("li",[s._v("列举一些在 shell 脚本中最常用到的命令")]),s._v(" "),t("li",[s._v("可以使用 "),t("code",[s._v("``")]),s._v(" 或 "),t("code",[s._v("$()")]),s._v(" 作命令替换(重组命令)，但建议使用后者(比较直观)")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("yesterday")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yesterday"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"+%Y-%m-%d"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("today")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"+%Y-%m-%d"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Yesterday is '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${yesterday}")]),s._v(", Today is "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${today}")]),s._v('"')]),s._v("\n")])])]),t("h3",{attrs:{id:"echo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#echo"}},[s._v("#")]),s._v(" echo")]),s._v(" "),t("ul",[t("li",[s._v("命令用法参考 "),t("a",{attrs:{href:""}},[s._v("echo")])]),s._v(" "),t("li",[s._v("打印字符串")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 直接打印")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 带变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${username}")]),s._v('"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 识别转义符")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name'),t("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v('like"')]),s._v("\n")])])]),t("h3",{attrs:{id:"read"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#read"}},[s._v("#")]),s._v(" read")]),s._v(" "),t("ul",[t("li",[s._v("命令用法参考 "),t("a",{attrs:{href:""}},[s._v("read")])]),s._v(" "),t("li",[s._v("从命令行 input 读取用户输入")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# bash, 感叹号(!)不能使用双引号包括("")，详情：https://www.cnblogs.com/chuanzhang053/p/9253410.html')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Enter your name: "')]),s._v(" username "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" Hello "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${username}")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# shell")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Enter your name: "')]),s._v(" username\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${username}")]),s._v('!"')]),s._v("\n")])])]),t("h3",{attrs:{id:"test"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#test"}},[s._v("#")]),s._v(" test")]),s._v(" "),t("ul",[t("li",[s._v("命令用法参考 "),t("a",{attrs:{href:""}},[s._v("test")])]),s._v(" "),t("li",[s._v("将测试用作简单的条件判断(当不需要使用 if 时)")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Please input a path: "')]),s._v(" pathname\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 路径不存在时")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pathname}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Path: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pathname}")]),s._v(' is not exist in your system!"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 判断是目录还是文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pathname}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Path: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pathname}")]),s._v(' is a directory."')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Path: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pathname}")]),s._v(' is a file."')]),s._v("\n")])])]),t("h3",{attrs:{id:"判断符号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#判断符号"}},[s._v("#")]),s._v(" 判断符号 []")]),s._v(" "),t("ul",[t("li",[s._v("用法类似 "),t("a",{attrs:{href:"#test"}},[s._v("test")]),s._v(" 命令，但使用 "),t("code",[s._v("[]")]),s._v(" 将判断命令包含，注意的是:\n"),t("ul",[t("li",[t("code",[s._v("[ exp ]")]),s._v(" 内侧两端必须保留空格")]),s._v(" "),t("li",[t("code",[s._v("[ 12 == 14 ]")]),s._v(" 内的每个组件(12, ==, 14) 之间也必须保留空格")]),s._v(" "),t("li",[t("code",[s._v('[ "$HOME" == "$MAIl" ]')]),s._v(" 内的变量使用双引号包含(否则变量有可能解释一个以上的操作数)")]),s._v(" "),t("li",[s._v("常数最好也用单引号或双引号包含")])])])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" -eq "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"true"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"false"')]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);