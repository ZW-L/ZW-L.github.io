(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{459:function(a,s,t){"use strict";t.r(s);var e=t(25),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[a._v("#")]),a._v(" 参考")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline",target:"_blank",rel:"noopener noreferrer"}},[a._v("Docker - base command"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://juejin.im/post/5ad3172c5188257ddb10109a#heading-0",target:"_blank",rel:"noopener noreferrer"}},[a._v("从 0 开始了解 Docker"),t("OutboundLink")],1)]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.runoob.com/docker/docker-tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("菜鸟教程 - Docker"),t("OutboundLink")],1)])]),a._v(" "),t("h2",{attrs:{id:"镜像操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像操作"}},[a._v("#")]),a._v(" 镜像操作")]),a._v(" "),t("h3",{attrs:{id:"docker-pull"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-pull"}},[a._v("#")]),a._v(" docker pull")]),a._v(" "),t("ul",[t("li",[a._v("用于从相关镜像仓库拉取镜像或仓库")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 拉取镜像到本地，名字格式：用户仓库名/命名空间:标签")]),a._v("\ndocker pull zhiwen93/node:v1\n")])])]),t("h3",{attrs:{id:"docker-search"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-search"}},[a._v("#")]),a._v(" docker search")]),a._v(" "),t("ul",[t("li",[a._v("用于从 Docker Hub 查找镜像")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查找镜像")]),a._v("\ndocker search httpd\n")])])]),t("h3",{attrs:{id:"docker-images"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-images"}},[a._v("#")]),a._v(" docker images")]),a._v(" "),t("ul",[t("li",[a._v("用于查看本地镜像列表")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 显示本地镜像列表")]),a._v("\ndocker images\n")])])]),t("h3",{attrs:{id:"docker-commit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-commit"}},[a._v("#")]),a._v(" docker commit")]),a._v(" "),t("ul",[t("li",[a._v("从现有容器的更改中创建一个新的镜像")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定镜像描述、作者、镜像名或 hash、新镜像名称")]),a._v("\ndocker commit -m"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"my image"')]),a._v(" -a"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"zhiwen93"')]),a._v(" e218ed zhiwen93/node:v1\n")])])]),t("h3",{attrs:{id:"docker-build"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-build"}},[a._v("#")]),a._v(" docker build")]),a._v(" "),t("ul",[t("li",[a._v("从 Dockerfile 构建镜像")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -t 后面为新镜像名称，并要求指定 Dockerfile 路径")]),a._v("\ndocker build -t zhiwen93/node:v1 ./dockerfile/path\n")])])]),t("h3",{attrs:{id:"docker-tag"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-tag"}},[a._v("#")]),a._v(" docker tag")]),a._v(" "),t("ul",[t("li",[a._v("修改镜像标签")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker tag 860c27 zhiwen93/node:v2\n")])])]),t("h3",{attrs:{id:"docker-push"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-push"}},[a._v("#")]),a._v(" docker push")]),a._v(" "),t("ul",[t("li",[a._v("将镜像或仓库推送到镜像仓库(需要注册 docker hub，并在命令行内登录)")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 登录")]),a._v("\ndocker login\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 登出")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("logout")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 推送本地镜像到仓库")]),a._v("\ndocker push zhiwen93/node:v1\n")])])]),t("h3",{attrs:{id:"docker-rmi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-rmi"}},[a._v("#")]),a._v(" docker rmi")]),a._v(" "),t("ul",[t("li",[a._v("删除指定镜像(需要暂停并删除使用了该镜像的容器)")]),a._v(" "),t("li",[a._v("命令：")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 删除镜像")]),a._v("\ndocker rmi centos:7\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 强制删除镜像")]),a._v("\ndocker rmi -f centos:7\n")])])]),t("h2",{attrs:{id:"容器操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器操作"}},[a._v("#")]),a._v(" 容器操作")]),a._v(" "),t("h3",{attrs:{id:"docker-ps"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-ps"}},[a._v("#")]),a._v(" docker ps")]),a._v(" "),t("ul",[t("li",[a._v("查看容器列表")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 显示正在运行的容器")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 显示所有容器，包括暂停的")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" -a\n")])])]),t("h3",{attrs:{id:"docker-stats"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-stats"}},[a._v("#")]),a._v(" docker stats")]),a._v(" "),t("ul",[t("li",[a._v("查看容器消耗的资源")]),a._v(" "),t("li",[a._v("命令：")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 仅显示运行中的容器")]),a._v("\ndocker stats\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 显示所有容器")]),a._v("\ndocker stats -a\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 显示指定容器")]),a._v("\ndocker stats 7da8c1 da4612\n")])])]),t("h3",{attrs:{id:"docker-create"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-create"}},[a._v("#")]),a._v(" docker create")]),a._v(" "),t("ul",[t("li",[a._v("创建新容器(并不会运行)")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 从指定镜像创建新容器，镜像不存在时会从远程拉取")]),a._v("\ndocker create centos:7\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定新容器名")]),a._v("\ndocker create --name centos7 centos:7\n")])])]),t("h3",{attrs:{id:"docker-start"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-start"}},[a._v("#")]),a._v(" docker start")]),a._v(" "),t("ul",[t("li",[a._v("启动容器")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启动容器并保持运行")]),a._v("\ndocker start centos7 /bin/bash\n")])])]),t("h3",{attrs:{id:"docker-run"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-run"}},[a._v("#")]),a._v(" docker run")]),a._v(" "),t("ul",[t("li",[a._v("快捷创建并启动容器(相当于 create 和 start 结合)")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 创建并启动容器，默认会进入容器内(若从容器内退出会暂停容器)")]),a._v("\ndocker run -it --name centos7 centos:7 /bin/bash\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启动后不进入容器内")]),a._v("\ndocker run -itd --name centos7 centos:7 /bin/bash\n")])])]),t("h3",{attrs:{id:"docker-stop"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-stop"}},[a._v("#")]),a._v(" docker stop")]),a._v(" "),t("ul",[t("li",[a._v("暂停容器")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 暂停指定容器")]),a._v("\ndocker stop 7da8c1\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定时间后暂停容器，秒为单位")]),a._v("\ndocker stop -t "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("60")]),a._v(" 7da8c1\n")])])]),t("h3",{attrs:{id:"docker-restart"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-restart"}},[a._v("#")]),a._v(" docker restart")]),a._v(" "),t("ul",[t("li",[a._v("重启容器")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker restart 7da8c1\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定时间后暂停容器，秒为单位")]),a._v("\ndocker restart -t "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("60")]),a._v(" 7da8c1\n")])])]),t("h3",{attrs:{id:"docker-rm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-rm"}},[a._v("#")]),a._v(" docker rm")]),a._v(" "),t("ul",[t("li",[a._v("删除容器(在此之前要先暂停容器)")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 删除容器")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" 7da8c1\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 强制删除容器")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -f 7da8c1\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 删除指定链接")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -l 7da8c1\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 删除与容器关联的卷")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -v 7da8c1\n")])])]),t("h2",{attrs:{id:"容器交互"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器交互"}},[a._v("#")]),a._v(" 容器交互")]),a._v(" "),t("h3",{attrs:{id:"docker-attach"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-attach"}},[a._v("#")]),a._v(" docker attach")]),a._v(" "),t("ul",[t("li",[a._v("进入指定容器，但退出后会关闭容器")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker attach 7da8c1\n")])])]),t("h3",{attrs:{id:"docker-exec"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-exec"}},[a._v("#")]),a._v(" docker exec")]),a._v(" "),t("ul",[t("li",[a._v("进入指定容器，退出后不会关闭容器")]),a._v(" "),t("li",[a._v("命令")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 进入容器")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -it 7da8c1 /bin/bash\n")])])]),t("h3",{attrs:{id:"docker-cp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-cp"}},[a._v("#")]),a._v(" docker cp")]),a._v(" "),t("ul",[t("li",[a._v("在宿主机和容器之间拷贝文件(以下命令都是在宿主机中使用，而且不要求容器必须启动)")]),a._v(" "),t("li",[a._v("命令：")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将宿主机文件拷贝至指定容器的目录下")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" ~/hello.txt centos7:/root\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将指定容器的文件拷贝至宿主机")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" centos7:root/hello.txt ~/\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);