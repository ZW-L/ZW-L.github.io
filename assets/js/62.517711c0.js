(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{472:function(t,s,a){"use strict";a.r(s);var e=a(25),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),a("ul",[a("li",[t._v("软件管理/安装：rpm, dpkg")]),t._v(" "),a("li",[t._v("软件在线安装：yum, apt-get")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("发行版代表")]),t._v(" "),a("th",[t._v("软件管理机制")]),t._v(" "),a("th",[t._v("命令")]),t._v(" "),a("th",[t._v("在线升级(命令)")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Red Hat/Fedora")]),t._v(" "),a("td",[t._v("RPM")]),t._v(" "),a("td",[t._v("rpm, rpmbuild")]),t._v(" "),a("td",[t._v("YUM(yum)")])]),t._v(" "),a("tr",[a("td",[t._v("Debian/Ubuntu")]),t._v(" "),a("td",[t._v("DPKG")]),t._v(" "),a("td",[t._v("dpkg")]),t._v(" "),a("td",[t._v("APT(apt-get)")])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("备注：")]),t._v(" "),a("ul",[a("li",[t._v("使用 RPM、DPKG 等软件管理机制可以安装管理本地软件")]),t._v(" "),a("li",[t._v("当有网络的时候，yum 和 apt-get 的在线安装方式更常用")])])]),t._v(" "),a("h2",{attrs:{id:"rpm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpm"}},[t._v("#")]),t._v(" RPM")]),t._v(" "),a("ul",[a("li",[t._v("RPM(RedHat Package Manager)最新是由 RedHat 开发的 Linux 包管理器，现在是一种通用的 Linux 包管理方式")]),t._v(" "),a("li"),t._v(" "),a("li",[t._v("安装简单方便：软件已经编译完成且打包完毕，安装只是个验证环境和解压的过程")]),t._v(" "),a("li",[t._v("通过 RPM 安装的软件，会记录软件安装信息，方便以后的查询、升级和卸载")]),t._v(" "),a("li",[t._v("缺点：对操作系统环境依赖很大，要求包的安装环境与封装时的环境一致或相当")])]),t._v(" "),a("h3",{attrs:{id:"rpm-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpm-2"}},[t._v("#")]),t._v(" RPM")]),t._v(" "),a("ul",[a("li",[t._v("rpm 包一般都是以 "),a("code",[t._v(".rpm")]),t._v(" 作后缀的")]),t._v(" "),a("li",[t._v("安装")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-ivh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("file1.rpm"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("file2.rpm"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -i: 安装(install)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -v: 显示更详细的安装信息")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -h: 显示安装进度")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --test: 仅测试，不安装")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --prefix: 接 路径，指定软件安装的目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --force: 忽略包以及软件冲突")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --nodeps: 不检查包的依赖关系(可能会导致包不可用)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --percent: 以百分比输出安装进度")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --replacepkgs: 强制重新安装已安装的包")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --includedocs: 安装包说明文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --excludedocs: 不安装包的说明文件")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("备注")]),t._v(" "),a("ul",[a("li",[t._v("若安装失败，会给出需要依赖的包以及版本，此时需要先安装相关的依赖包")])])]),t._v(" "),a("ul",[a("li",[t._v("查询(query)")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ailcdRf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("file1.rpm"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("file2.rpm"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -f: 查询某文件属于哪个 rpm 包")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -p: 查询包安装到系统后的文件夹名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -l: 显示包中文件列表(不需要添加 .rpm 后缀)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -i: 显示包简介")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -s: 与 -i 类似，但还显示每个文件的状态")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -g: 查询系统有哪些包属性指定的类型")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -d: 显示包的说明文件列表")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --require: 显示包所需的功能")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --provides: 显示包提供的功能")]),t._v("\n")])])]),a("ul",[a("li",[t._v("验证(verify)，用于验证安装包，校验每个文件的大小、权限、MD5、类型、所有者以及组群")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -V"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("apfg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("file1.rpm"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("file2.rpm"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -a: 校验所有的包")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -p: 验证包文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -f: 校验指定文件在所属的包中的状态")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -g: 校验所有属于组的包")]),t._v("\n")])])]),a("ul",[a("li",[t._v("更新(upgrade)")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -U "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("file1.rpm"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("file2.rpm"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])]),a("ul",[a("li",[t._v("删除(erase)")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -e "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("file1.rpm"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("file2.rpm"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --test: 只测试，不删除")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --nodeps:不检查依赖")]),t._v("\n")])])]),a("h3",{attrs:{id:"srpm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#srpm"}},[t._v("#")]),t._v(" SRPM")]),t._v(" "),a("h3",{attrs:{id:"yum"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yum"}},[t._v("#")]),t._v(" yum")]),t._v(" "),a("ul",[a("li",[t._v("RedHat 系列(RedHat, CentOS, Fedora)Linux 系统的包管理工具")]),t._v(" "),a("li",[t._v("安装方便，自动解决添加或删除 rpm 包时遇到的依赖问题")]),t._v(" "),a("li",[t._v("可以同时配置多个资源库")]),t._v(" "),a("li",[t._v("保持与 RPM 数据库的一致性")]),t._v(" "),a("li",[t._v("配置简单\n"),a("ul",[a("li",[a("code",[t._v("/etc/yum.conf")]),t._v("：主配置文件")]),t._v(" "),a("li",[a("code",[t._v("/etc/yum.repos.d")]),t._v("：资源库配置目录")]),t._v(" "),a("li",[a("code",[t._v("/etc/yum.repos.d/CentOS-Base.repo")]),t._v("：yum 源配置文件")])])]),t._v(" "),a("li",[t._v("安装配置")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检测是否已安装 yum")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -qa "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" yum\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装 yum")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -ivh yum-*.noarch.rpm\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置 yum 源")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1.备份")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /etc/yum.repos.d/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" CentOS-Base.repo CentOS-Base.repo.back\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2.下载阿里云的 Centos-6.repo 文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" -O CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 3.重新加载 yum")]),t._v("\nyum clean all\nyum makecache\n")])])]),a("ul",[a("li",[t._v("管理")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装")]),t._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("pack-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 卸载")]),t._v("\nyum remove "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("pack-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新")]),t._v("\nyum check-update    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检查可更新包")]),t._v("\nyum update          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新所有包(谨慎使用，还会更新内核)")]),t._v("\nyum update "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("pack-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新指定包")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 升级")]),t._v("\nyum upgrade         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 大规模升级版本，会升级陈旧的包(不会升级内核)")]),t._v("\n")])])]),a("ul",[a("li",[t._v("查询")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出所有可安装或更新的包")]),t._v("\nyum list\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出资源库中特定的可以安装或更新的包(支持 perl 正则)")]),t._v("\nyum list "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("package-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nyum list nginx*\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出资源库中所有可安装或更新的包信息")]),t._v("\nyum info\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出资源库中特定的可以安装或更新的包信息(支持 perl 正则)")]),t._v("\nyum info "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("package-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nyum info nginx*\nyum info updates    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出所有可更新的包")]),t._v("\nyum info installed  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出所有已安装的包")]),t._v("\nyum info extras     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出一安装但不在资源库中的 rpm 包(即在其他网站下载的包)")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 搜索包含特定字符的包")]),t._v("\nyum search nginx\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 搜索包含特定文件的包")]),t._v("\nyum provides realplay\n")])])]),a("ul",[a("li",[t._v("清除暂存信息，包暂存目录为 "),a("code",[t._v("/var/cache/yum")])])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("yum clean             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 清除暂存的旧的 rpm 头文件和包文件")]),t._v("\nyum clean packages    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 清除暂存的 rpm 包文件")]),t._v("\nyun clean headers     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 清除暂存的 rpm 头文件")]),t._v("\nyum clean oldheaders  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 清除暂存的旧的 rpm 头文件")]),t._v("\n")])])]),a("h2",{attrs:{id:"apt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apt"}},[t._v("#")]),t._v(" APT")]),t._v(" "),a("ul",[a("li",[t._v("常见的安装包格式是 deb，可以使用 dpkg 命令安装包")])]),t._v(" "),a("h3",{attrs:{id:"dpkg"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dpkg"}},[t._v("#")]),t._v(" DPKG")]),t._v(" "),a("h3",{attrs:{id:"apt-get"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apt-get"}},[t._v("#")]),t._v(" apt-get")]),t._v(" "),a("ul",[a("li",[t._v("Debian 系列(Debian, Ubuntu)Linux 系统的包管理工具")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装包")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 卸载包")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" remove\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);