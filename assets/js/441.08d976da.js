(window.webpackJsonp=window.webpackJsonp||[]).push([[441],{880:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"模块和包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块和包"}},[t._v("#")]),t._v(" 模块和包")]),t._v(" "),a("h3",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("包")]),t._v("：多个模块放在一个目录下就构建成一个包，包内可包含子包，但每个包的根目录下必须包含 "),a("code",[t._v("__init__.py")]),t._v(" 文件")]),t._v(" "),a("li",[a("strong",[t._v("模块")]),t._v("：逻辑上来说就是一组功能的组合，其中可被认为是模块的情况：\n"),a("ul",[a("li",[t._v("一个 python 文件")]),t._v(" "),a("li",[t._v("包好一组模块的包")]),t._v(" "),a("li",[t._v("已被编译为共享库/dll 的 c/c++ 扩展")]),t._v(" "),a("li",[t._v("用 c 编写并链接到 python 解释器的内置模块")])])]),t._v(" "),a("li",[t._v("导入模块时 python 解释器的规则：\n"),a("ol",[a("li",[t._v("在所运行的程序的目录下寻找")]),t._v(" "),a("li",[t._v("在 python 的安装路径下的标准库目录下寻找")]),t._v(" "),a("li",[t._v("在操作系统环境变量下的 PYTHONPATH 所包含的路径内寻找")])])])]),t._v(" "),a("h3",{attrs:{id:"创建一个包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建一个包"}},[t._v("#")]),t._v(" 创建一个包")]),t._v(" "),a("ul",[a("li",[t._v("目录：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("|- mypkg\\\n  |- __init__.py\n  |- hello.py\n  |- math\\\n    |- __init.py__\n    |- calc.py\n")])])]),a("ul",[a("li",[t._v("hello.py")])]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sayHi")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nperson "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Alice'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'age'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("calc.py")])]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sub")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" b\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("ul",[a("li",[t._v("创建了一个 mypkg 包，它包含一个 hello 模块和一个 math 子包，math 子包内包含一个 calc 模块")]),t._v(" "),a("li",[t._v("在各个包的根目录下创建 "),a("code",[t._v("__init.py__")]),t._v(" 文件，保留为空文件即可")])])]),t._v(" "),a("h2",{attrs:{id:"导入模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入模块"}},[t._v("#")]),t._v(" 导入模块")]),t._v(" "),a("ul",[a("li",[t._v("第一次导入模块时会将模块名加载到内存，后续的 "),a("code",[t._v("import")]),t._v(" 语句仅是对已经加载到内存中的模块对象增加了一次引用，不会重新执行模块内的语句")]),t._v(" "),a("li",[t._v("有两种导入语法：\n"),a("ul",[a("li",[a("code",[t._v("import")]),t._v("：导入模块")]),t._v(" "),a("li",[a("code",[t._v("from ... import ...")]),t._v("：导入模块或模块内成员")])])]),t._v(" "),a("li",[t._v("当导入的模块名/变量名过长或命名冲突时，可以使用 "),a("code",[t._v("as")]),t._v(" 重命名")])]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mypkg "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" m\n\nm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hello"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sayHi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Alice'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Hello Alice")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("from ... import ...")]),t._v(" 的功能比 "),a("code",[t._v("import")]),t._v(" 强，因为它还能选择性地导入某个模块的成员")]),t._v(" "),a("li",[a("code",[t._v("import")]),t._v(" 的语法格式：\n"),a("ul",[a("li",[t._v("以模块名结尾："),a("code",[t._v("import pkg1.pkg2.···.module_name")])]),t._v(" "),a("li",[t._v("以包名结尾："),a("code",[t._v("import pkg1.pkg2.···.pkgN")])])])]),t._v(" "),a("li",[a("code",[t._v("from ... import ...")]),t._v(" 的语法格式：\n"),a("ul",[a("li",[t._v("以模块名结尾："),a("code",[t._v("from pkg1.pkg2.···.pkgN import module_name")])]),t._v(" "),a("li",[t._v("以包名结尾："),a("code",[t._v("from pkg1.pkg2 import pkg3")])]),t._v(" "),a("li",[t._v("以变量结尾："),a("code",[t._v("from pkg1.pkg2.module_name import calc")])])])]),t._v(" "),a("li",[t._v("实际上包是一个组织了众多模块的模块，因此 "),a("code",[t._v("__init.py__")]),t._v(" 文件不可缺省")])])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("当导入本地模块(自定义模块)时，由于模块的解释规则，需要指示本地模块的路径，解释器才会解释到该路径下，可以用以下方式修改路径：")]),t._v(" "),a("ul",[a("li",[t._v("在程序中，导入本地模块前添加以下内容，为程序添加临时的解释路径：")])]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" sys\n\nsys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("r'module_path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 接着再导入本地模块")]),t._v("\n")])])]),a("ul",[a("li",[t._v("在 Python 安装目录下的 \\Lib\\site-packages 文件夹中建立一个 .pth 文件，内容为本地模块的绝对路径")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("/Users/seven/mypkg\n或\nE:\\\\seven\\\\Python\\\\mypkg\n")])])]),a("ul",[a("li",[t._v("将本地模块拷贝到 python 安装目录下储存内置模块的目录下(不太建议)")])])]),t._v(" "),a("h3",{attrs:{id:"导入模块-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入模块-2"}},[t._v("#")]),t._v(" 导入模块")]),t._v(" "),a("ul",[a("li",[t._v("导入单个模块")])]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mypkg\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mypkg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hello        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 相当于 from mypkg import hello")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mypkg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("calc\n")])])]),a("ul",[a("li",[t._v("一次性导入多个模块：不建议的方式，使用多行导入时可读性更强")])]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mypkg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mypkg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hello\n")])])]),a("h3",{attrs:{id:"导入模块内成员"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入模块内成员"}},[t._v("#")]),t._v(" 导入模块内成员")]),t._v(" "),a("ul",[a("li",[t._v("使用 "),a("code",[t._v("from ... import ...")]),t._v(" 的语法可以导入模块内的成员(多个成员之间用逗号隔开)")])]),t._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" mypkg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hello "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" person\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# {'age': 26, 'name': 'Alice'}")]),t._v("\n")])])]),a("h2",{attrs:{id:"管理模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#管理模块"}},[t._v("#")]),t._v(" 管理模块")]),t._v(" "),a("ul",[a("li",[t._v("使用 pip 命令：")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装")]),t._v("\npip "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" pillow\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);