(window.webpackJsonp=window.webpackJsonp||[]).push([[249],{668:function(t,a,s){"use strict";s.r(a);var n=s(25),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说明"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),s("ul",[s("li",[t._v("参考 "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN Canvas"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("canvas 翻译为画布，顾名思义其主要用于绘制 2D 图形")]),t._v(" "),s("li",[s("code",[t._v("<canvas>")]),t._v(" 标签是一个图形容器，必须使用 "),s("code",[t._v("javascript")]),t._v(" 脚本来绘制图形")]),t._v(" "),s("li",[t._v("能操作到每一个像素，进行像素级别的操作")])]),t._v(" "),s("h2",{attrs:{id:"对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对象"}},[t._v("#")]),t._v(" 对象")]),t._v(" "),s("h3",{attrs:{id:"htmlcanvaselement"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#htmlcanvaselement"}},[t._v("#")]),t._v(" HTMLCanvasElement")]),t._v(" "),s("ul",[s("li",[t._v("该对象实际上是一个 "),s("code",[t._v("<canvas>")]),t._v(" 节点对象")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" canvas "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'canvas'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ul",[s("li",[s("strong",[t._v("属性：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("width")]),t._v("：画布对象的宽度，默认 300")]),t._v(" "),s("li",[s("code",[t._v("height")]),t._v("：画布对象的高度，默认 150")])])]),t._v(" "),s("li",[t._v("方法：\n"),s("ul",[s("li",[s("code",[t._v("captureStream()")]),t._v("：画布表面的实时视频捕获")]),t._v(" "),s("li",[s("code",[t._v("getContext()")]),t._v("：获取画布上的绘图上下文，之后可通过该上下文对象进行绘图")]),t._v(" "),s("li",[s("code",[t._v("toDataURL()")]),t._v("：返回以 type 参数指定的格式包含图像表示形式的 data-URL，默认 png")]),t._v(" "),s("li",[s("code",[t._v("toBlob()")]),t._v("：创建一个 "),s("code",[t._v("Blob")]),t._v(" 对象，该对象表示画布中包含的图像")]),t._v(" "),s("li",[s("code",[t._v("transferControlToOffscreen()")]),t._v("：将控制权转移到 OffscreenCanvas 主线程或工作线程上的对象")])])]),t._v(" "),s("li",[t._v("作为一个 HTML 标签，允许绑定一些"),s("strong",[t._v("事件：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("webglcontextcreationerror")])]),t._v(" "),s("li",[s("code",[t._v("webglcontextlost")])]),t._v(" "),s("li",[s("code",[t._v("webglcontextrestored")])])])])]),t._v(" "),s("h3",{attrs:{id:"canvasrenderingcontext2d"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#canvasrenderingcontext2d"}},[t._v("#")]),t._v(" CanvasRenderingContext2D")]),t._v(" "),s("ul",[s("li",[t._v("该对象由 "),s("code",[t._v("HTMLCanvasElement")]),t._v(" 对象调用 "),s("code",[t._v("getContext()")]),t._v(" 返回")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" canvas "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'canvas'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ctx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" canvas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2d'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 接着可以使用 ctx 绘图")]),t._v("\n")])])]),s("ul",[s("li",[t._v("之后基本上所有绘图操作都是该对象提供的，后面均使用 "),s("code",[t._v("ctx")]),t._v(" 缩写")])]),t._v(" "),s("h3",{attrs:{id:"path2d"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#path2d"}},[t._v("#")]),t._v(" Path2D")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Path2D",target:"_blank",rel:"noopener noreferrer"}},[t._v("Path2D"),s("OutboundLink")],1),t._v(" 对象可以在较新版本的浏览器中使用，用来缓存或记录绘画命令，能用于快速地回顾路径")]),t._v(" "),s("li",[t._v("使用方式与 ctx 相同：")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" canvas "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'canvas'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ctx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" canvas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2d'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rectangle "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Path2D")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrectangle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" circle "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Path2D")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncircle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("moveTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("125")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("35")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncircle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("arc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("35")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" Math"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PI")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stroke")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rectangle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fill")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("circle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"imagedata"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#imagedata"}},[t._v("#")]),t._v(" ImageData")]),t._v(" "),s("ul",[s("li",[t._v("对象中存储着 canvas 对象真实的像素数据，它包含以下几个"),s("strong",[t._v("只读属性")]),t._v("：\n"),s("ul",[s("li",[s("code",[t._v("data")]),t._v(": 一维数组，每四个数字代表每个像素点的 "),s("code",[t._v("rgba")]),t._v(" 值")]),t._v(" "),s("li",[s("code",[t._v("width")]),t._v(": 图像实际宽度")]),t._v(" "),s("li",[s("code",[t._v("height")]),t._v(": 图像实际高度")])])]),t._v(" "),s("li",[t._v("该对象有两种创建方式：\n"),s("ul",[s("li",[s("code",[t._v("createImageData(w, h)")])]),t._v(" "),s("li",[s("code",[t._v("getImageData(x, y, w, h)")])])])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("说明：")]),t._v(" "),s("ul",[s("li",[t._v("使用 "),s("code",[t._v("ImageData")]),t._v(" 对象，能够读取到图像的每一个像素的颜色和透明度数据")]),t._v(" "),s("li",[t._v("通过 "),s("code",[t._v("putImageData(ImageData)")]),t._v(" 能够修改任意一个像素的颜色和透明度数据")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);