language: node_js
node_js:
  - '12'

install:
  - npm install

script:
  - npm run docs:build

after_success:
  - cd ./docs/.vuepress/dist
  - git init
  - git config --global user.name "Seven"
  - git config --global user.email "1041214157@qq.com"
  - git add .
  - git commit -m "Automatically update from travis-ci"
  - git push -f "git@github.com:ZW-L/web-docs.git" master