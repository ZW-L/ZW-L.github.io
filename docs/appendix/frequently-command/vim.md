## 命令概览

+ 打开文件
+ 移动光标
+ 屏幕翻滚
+ 插入/删除
+ 搜索/替换
+ 保存/退出


## 打开文件

vi 命令选项|说明
-|-
`vi filename`|打开或者新建一个文件
`vi -r filename`|恢复上次 `vi` 打开时崩溃的文件
`vi -R filename`|把指定的文件以只读方式放入编辑器
`vi + filename`|打开文件，并将光标至于最后一行
`vi +n filename`|打开文件，并将光标放置第 `n` 行的首部
`vi +/pattern filename`|打开文件，并将光标放置于第一个与 `pattern` 匹配的位置
`vi -c command filename`|在对文件进行编辑前，先执行指定的命令

## 移动光标

按键/字符|说明
-|-
`h`|光标左移一个字符
`l`|光标右移一个字符
`Backspace`|光标左移一个字符
`Enter`|光标下移一行
`k/Ctrl+p`|光标上移一个字符
`j/Ctrl+n`|光标下移一个字符
`w/W`|光标右移一个字到字首
`b/B`|光标左移一个字到字首
`e/E`|光标右移一个字到字尾
`nG`|光标移动到第 n 行的首部
`n+`|光标下移 n 行
`n-`|光标上移 n 行
`n$`|相对于当前光标所在行，光标再向后移动 n 行到行尾
`H`|光标移至当前屏幕的顶行
`M`|光标移至当前屏幕的中间行
`L`|光标移至当前屏幕的最底行
`0`|光标移至当前行首
`$`|光标移至当前行尾
`:$`|光标移至文件最后一行的行首

## 屏幕翻滚

按键/字符|说明
-|-
`Ctrl+u`|相对于当前屏幕，向文件首翻半屏
`Ctrl+d`|相对于当前屏幕，向文件尾翻半屏
`Ctrl+b`|相对于当前屏幕，向文件首翻一屏
`Ctrl+f`|相对于当前屏幕，向文件尾翻一屏
`nz+Enter`|将文件的第 `n` 行滚至屏幕顶部(不指定 `n` 值时将当前行滚至屏幕顶部)

## 插入/删除

按键/字符|说明
-|-
`Esc`|返回命令行模式
`i`|在光标前输入文字
`a`|在光标后输入文字
`o`|在当前行之下新开一行
`O`|在当前行之上新开一行
`r`|替换光标所在字符
`x`|删除光标所在字符
`dd`|删除光标所在的行(删除后的内容自动保存在剪贴板)
`yy`|将光标所在的行复制到剪贴板(在 `yy` 前加数字可复制多行)
`p`|将剪贴板的内容复制到光标后
`P`|将剪贴板的内容复制到光标前
`yw`|将光标所在的单词复制到剪贴板

## 搜索/替换

按键/字符|说明
-|-
`/abc`|在文件中向前查找字符串 abc
`?abc`|在文件中向后查找字符串 abc
`n`|在同一方向重复上次的搜索命令
`N`|在相反方向重复上次的搜索命令
`:s/a1/a2/g`|将当前光标所在行中的所有 a1 替换为 a2
`:n1,n2s/a1/a2/g`|将文件第 n1 行至 n2 行中的 所有 a1 替换为 a2
`:g/a1/a2/g`|将文件中所有 a1 均用 a2 替换
`:set nu`|给文件的每行加上行号

## 保存/退出

按键/字符|说明
-|-
`:wq`|保存并退出，`:wq!` 表示强制退出，不保存
`:q`|不保存就退出，`:q!` 表示强制退出，不保存
`:w`|保存但是不退出，`:w!` 表示强制保存，`:w filename` 表示将修改保存到 filename 中，相当于另存文件
`x!`|保存文件并退出