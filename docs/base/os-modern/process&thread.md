## 概念

+ `进程`是**操作系统进行资源分配和调度的基本单元**；可以申请和拥有计算机资源；是程序的基本执行实体
+ `线程`是**操作系统能够进行运算调度的最小单元**；一个进程可以并发多个线程，每条线程并行执行不同的任务


::: tip 备注：
+ 当启动应用程序时，会创建一个进程来执行任务代码，同时会为该进程分配内存空间，该应用程序的状态都会保存在该内存空间里；当应用关闭时，该内存空间就会被回收；进程可以启动更多的进程来执行任务，但由于每个进程分配的内存空间是独立的，如果两个进程间需要传递某些数据，则需要通过进程间通信管道（IPC）来传递；很多应用程序都是多进程的结构，这样是为了避免某一个进程卡死而导致应用程序奔溃
+ 进程可以将任务分成更多细小的任务，通过创建多个线程来并行执行不同的任务，同一进程下的多个线程可以直接通信来共享数据
+ 简单来说，进程
:::


## 进程

+ **伪并行**：在多道程序设计系统中，CPU 由一个进程快速切换到另一个进程，使每个进程各运行几十或几百毫秒；也就是说，在一个瞬间 CPU 只能运行一个进程，但是在 1 秒钟内，他可能运行多个进程，这就产生了并行的错觉。
+ **硬件并行**：在多处理器系统中，其拥有两个或多个 CPU 共享同一个物理内存，实现真正的并行。


### 创建进程

+ **系统初始化**：启动操作系统时，会创建一些进程，如前台进程、后台进程（守护进程）
+ **正在运行的进程执行了创建进程的系统调用**：为了协助自身工作，进程可发出系统调用，创建更多的进程
+ **用户请求创建一个新进程**：用户主动交互（鼠标等）打开一个程序会打开一个进程
+ **一个批处理作业的初始化**：仅在大型机的批处理系统中应用，用户在系统中提交批处理作业后，系统会创建一个新进程并分配资源运行该作业


### 终止进程

+ **正常退出（自愿的）**：完成工作并终止，在 UNIX 中调用 `exit`，Windows 中为 `ExitProcess`
+ **出错退出（自愿的）**：通常是程序的错误导致，如执行非法指令、引用不存在的内存、除数是零等；此时进程通常会收到中断信号（而不是被终止）
+ **严重出错（非自愿）**：如编译时参数输入不存在的文件
+ **被其他进程杀死（非自愿）**：在 UNIX 中调用 `kill`，Windows 中为 `TerminateProcess`



## 线程