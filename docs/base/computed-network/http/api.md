---
sidebarDepth: 2
---


## 服务端 API

+ 服务端 `API`(Application Programming Interface，应用程序编程接口)，在程序内部指的是各个模块、函数、类的调用参数和返回值，在程序外部指不同程序之间的调用参数和返回结果。在 Web 中指的是前后端通信的接口，一般借助 HTTP(S) 协议来实现
+ 当前流行的 Web API 设计规范为 `REST API` 和 `GraphQL`


## REST API


### 介绍

+ 简称 `REST`(Representation State Transfer，表现层状态转换)，指的是一种设计风格(不是标准)
+ 可以根据团队定制不同的命名规范
+ **特点：**
  + 所有通信都是无状态的，状态统一由客户端进行维护，减轻了服务端的压力
  + 可以利用缓存来提升通信效率
  + 可结合一些 HTTP 协议的特点：用 URL 的方式指向不同的资源


### 定制规范

+ **请求路径**
  + 所有请求路径对应特点的资源，不要包含动词、形容词等修饰符，必要时应该使用复数
  + 多个单词组合使用 `songList`, `song_list`, `song-list` 三者之一
  + 合适的资源嵌套层级，使用 id 占位符(`:id`)标识资源
  + 用参数对资源进行过滤而不是使用无规则的 URL，参数之间用 `&` 分开，多个参数值用 `,` 分开
+ **请求头部**: 不同的操作使用对应语义的请求方法
  + `GET`: 获取资源，常用于查询
  + `POST`: 创建资源，或数据提交(用户登录等)
  + `PUT`: 修改资源
  + `DELETE`: 删除资源
+ **请求体**: 一般采用 JSON 格式提交数据(文件上传除外)
+ **响应头部**: 遵循 HTTP(S) 规范的状态码和状态信息描述请求结果
+ **响应体**
  + 一般响应为 JSON 格式
  + 响应结果处理: 包括响应描述和响应分页


### 工具

+ Swagger





## GraphQL

### 介绍

+ 简称 `GraphQL`(Graph Query Language，图表化查询语言)，由 `Facebook` 推出。
+ **特点：**
  + 它使用模式(Schema)来描述一类数据的结构，类似 mongoose 的形式
  + 所有请求都使用 POST 方法，同时将 Schema 作为请求参数放入请求体中


### 设计

+ **类型**: 返回后端定义的类型
+ **验证**: 后端对于不符合要求的 GraphQL 请求会给出明确的错误提示
+ **内省**: 告诉调用者当前服务器指出哪些查询
+ **查询与变更**: 查询操作以 `query` 开头，变更操作以 `mutation` 开头


### 工具

+ GraphiQL
+ GraphQL Voyager