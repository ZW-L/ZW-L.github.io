## 简介

`ECMAScript` 的语法大量借鉴了 `C` 语言和类 C 语言(`Java` 和 `Perl`)。并具有以下特点：

+ 区分大小写
+ 标识符
+ 关键字和保留字
+ 注释
+ 严格模式
+ 语句

::: tip 区分 Javascript 和 ECMAScript：
+ `javascript` 是一种动态类型、弱类型、基于原型的解释型语言；由 `ECMAScript`, `DOM`, `BOM` 三部分组成
+ `ECMAScript` 常用的版本为 `ES3`, `ES5`, `ES6+`
:::



## 区分大小写


一切都区分大小写，彼此象征着不同的含义


## 标识符

标识符泛指变量名、函数名、属性名、函数参数名等，合格的标识符：
+ 必须以字母、下划线(_)、美元符号($)开头
+ 其他字符可以是字母、下划线、美元符号、数字等


::: tip 说明：
+ 除了开头限定外，其他字符可以是任意扩展的 Unicode 字符，甚至是中文字符
+ 驼峰命名(camel case, 如 `myCar`)或蛇形命名(snake case, 如 `my_car`)
:::



## 关键字和保留字

关键字和保留字的区别：
+ 关键字：具有特定用途
+ 保留字：在语言中还没有特定的用途，但是作为未来关键字的候选词



## 注释

+ 使用 `C` 风格的单行注释和多行注释
+ 单行注释：
```js
// 这是单行注释
```
+ 多行注释：
```js
/* 
  这是多行注释
 */

// 也可以这样写
/* 
 * 这是多行注释
 * 这样有利于提高可读性，但不是必须的
 */
```



## 严格模式

+ ES5 引入了严格模式，它是一种不同的解析与执行模型，针对 ES3 的一些不确定行为进行了处理(或抛出错误)
+ 在整个脚本启用：
```js
'use strict'    // 它是脚本的第一行
```
+ 在指定函数内启用：
```js
function func() {
  'use strict'  // 它是函数体内的第一行
  // ...
}
```

::: tip 完整的严格模式的内容：
+ 变量必须先声明后使用
+ 函数参数不能有同名属性，否则报错
+ 禁止 `this` 指向全局对象
+ 不能使用 `with`
+ 不能对只读属性赋值，否则报错
+ 不能使用前缀 0 表示八进制数，否则报错
+ 不能删除不可删除的属性，否则报错
+ 不能删除变量 `delete prop`，会报错，只能删除属性 `delete global[prop]`
+ `eval` 不会在它的外层作用域引入变量
+ `eval` 和 `arguments` 不能被重新赋值
+ `arguments` 不会自动反映函数参数的变化
+ 不能使用 `arguments.callee`, `arguments.caller`
+ 不能使用 `fn.caller` 和 `fn.arguments` 获取函数调用的堆栈
+ 增加了保留字(`protected`, `static`, `interface`)
:::

::: tip 说明：
+ 更好的方法是尽量不要使用 `eval`
+ 在 ES6 中尽量用 `rest` 参数代替 `arguments`
+ `with` 语句虽然简便，但是使作用域链变长导致性能变差了
:::



## 语句

+ 使用分号(`;`)标识语句的结束，可以省略语句结尾的分号，因为解析器会自动添加分号
```js
var str = 'hello world';
var name = 'Zed'          // 省略分号
```

::: tip 要不要使用分号视个人/团队而定：
+ 建议不要省略分号：避免有些情况下省略分号时出现错误、提高代码的性能(解析器不用去推测加入分号的地方)
+ 建议省略分号：代码简介，代码性能影响不大，但要注意在一些场景下需要添加分号(一般为开头)：
  + 正则开头：很少遇见
  + `+`/`-`：很少遇见
  + 括号：一般在自执行函数(IIFE)出现
  + 方括号：一般在开头的解构赋值出现
```js
// 正则
let a = 2
;/\d+/

// +/-
let a = 2
;+2

// 分号
let a = 2

;(function () {
  console.log('hello')
})()

// 方括号
let a = 2
;[a] = [1]
```
:::

+ 使用花括号(`{}`)包裹代码块，可以省略只有一行代码的流程控制语句块的花括号
```js
if (flag) {
  console.log('true')
}
// 可以这样写
if (flag)
  console.log('true')

for (var i = 0; i < 3; i++) {
  console.log(i)
}
// 可以这样写
for (var i = 0; i < 3; i++)
  console.log(i)
```

::: tip 说明：
+ 不要省略花括号，尽管只有代码块内只有一行语句，这样有利于统一代码和提高可读性
:::