## 元素选择器

选择器|说明|兼容性
-|-|-
`*`|通配符选择器，匹配任何标签|>IE6
`E`|标签选择器，匹配指定的标签|
`E#idName`|ID 选择器，匹配含指定 `id` 属性的标签|
`E.className`|类选择器，匹配含指定 `class` 属性的标签|

::: tip 备注
+ 这几个选择器都比较常用
:::


## 关系选择器

选择器|说明|兼容性
-|-|-
`E F`|后代选择器，F 标签是 E 标签的所有后代(包括子元素)|
`E > F`|子选择器，F 标签是 E 标签的所有子元素(不包括后代元素)|>IE6
`E + F`|相邻选择器，F 标签是 E 标签之后第一个同类型标签|>IE6
`E ~ F`|兄弟选择器，F 标签是 E 标签之后的兄弟元素|>IE6

::: tip 区分
+ `>` 指的是直接后代，也就是子选择器
+ `+` 有点特别，它有可能匹配兄弟元素、后代元素、其他元素的后代元素，可能性较多
+ `~` 指的是并列，因此匹配兄弟元素节点
:::


## 属性选择器

|选择器|说明|兼容性|
|-|-|-|
|`E[attr]`|简单匹配，匹配包含指定属性的标签|>IE6|
|`E[attr="val"]`|精确匹配，匹配包含指定属性名/属性值的标签|>IE6|
|`E[attr~="val"]`|部分匹配，匹配包含指定属性，且属性值列表(有多个由空格分隔的属性值)包含指定值的标签|>IE6|
|`E[attr*="val"]`|包含匹配，匹配包含指定属性，且 val 为其属性值的一部分的标签|>IE6|
|`E[attr|="val"]`|开头匹配，匹配包含指定属性，且属性值(该属性值是多个单词并以 `-` 分割的)以指定内容开头的标签|>IE6|
|`E[attr^="val"]`|开头匹配，匹配包含指定属性，且属性值以指定内容开头的标签|>IE6|
|`E[attr$="val"]`|结尾匹配，匹配包含指定属性，且属性值以指定内容结尾的标签|>IE6|

::: tip 区分
+ `E[attr~="val"]`：如元素包含多个 `class`，而 `val` 是其中一个 
+ `E[attr*="val"]`：能匹配所有 `E[attr~="val"]` 能匹配的场景
+ `E[attr|="val"]`：属性值是 `val` 或者是一个由 `-` 分隔且以 `val` 开头的字符串
+ `E[attr^="val"]`：能匹配所有 `E[attr|="val"]` 能匹配的场景
+ 平时用得不多，不过也有奇效
:::


## 伪类选择器

|选择器|说明|兼容性|
|-|-|-|
|`E:link`|超链接未被访问时|-|
|`E:visited`|超链接被访问后|-|
|`E:hover`|鼠标悬停在元素上方时|IE6 仅支持 `<a>`|
|`E:active`|元素被点击时|IE7 仅支持 `<a>`|
|`E:focus`|元素获取输入焦点时|>IE7|
|`E:lang()`|使用特殊语言时|>IE7|
|`E:empty`|无任何子元素时|>IE8|
|`E:checked`|被选中时|>IE8|
|`E:enabled`|用户界面上处于可用状态时|>IE8|
|`E:disabled`|用户界面上储与不可用状态时|>IE8|
|`E:target`|作为锚指向的目的地时|>IE8|
|`E:not(S)`|匹配除 S 指定的元素外的元素(S为选择器)|>IE8|
|`E:root`|匹配 `<html>` 标签|>IE8|
|`E:first-child`|E 为第一个子元素|>IE6|
|`E:last-child`|E 为最后一个子元素|>IE8|
|`E:only-child`|E 为唯一的子元素|>IE8|
|`E:nth-child(n)`|E 为第 n 子元素|>IE8|
|`E:nth-last-child(n)`|E 为倒数第 n 个子元素|>IE8|
|`E:first-of-type`|E 为同标签名的第一个同级兄弟元素|>IE8|
|`E:last-of-type`|E 为同标签名的最后一个同级兄弟元素|>IE8|
|`E:only-of-type`|E 为同标签名的唯一的同级兄弟元素|>IE8|
|`E:nth-of-type(n)`|E 为同标签名的第 n 个同级兄弟元素|>IE8|
|`E:nth-last-of-type(n)`|E 为同标签名的倒数第 n 个同级兄弟元素|>IE8|

::: tip 备注
+ 伪类选择器主要表示的是一种状态，当符合状态时应用其中的样式
+ n 的可能取值：
  + `正整数`：指代第几个元素
  + `even`/`odd`：指代奇数/偶数下标的元素，可以匹配多个元素
  + `n+1`：指代从下标 1 开始的元素(n 从 0 开始迭代)，可以匹配多个元素
+ `E:first-child` 匹配时 E 是第一个子元素，`E:first-of-type` 匹配时 E 不一定是第一个子元素
+ `E:*-of-type` 等几个伪类，匹配的是同一级的第一个 E 元素，例如多个同级 `p` 标签时匹配第一个
:::



## 伪元素选择器

|选择器|说明|兼容性|
|-|-|-|
|`E:first-letter/E::first-letter`|设置第一个字符的样式(仅能作用于块对象)|-|
|`E:first-line/E::first-line`|设置第一行的样式(仅能作用于块对象)|-|
|`E:before/E::before`|设置元素之前的内容，和 `content` 属性一起使用|>IE8|
|`E:after/E::after`|设置元素之后的内容，和 `content` 属性一起使用|>IE8|
|`E::selection`|设置元素被选择时的样式(鼠标左键拉拽选中时)|>IE8|

::: tip 备注
+ 伪元素不同于伪类，伪类表示的是元素的某个状态，而伪元素表示的是文档中某个部分的表现
+ 尽量用双冒号是用伪元素，以区分于伪类
+ `::before`/`::after` 常用于清除浮动，需要结合 `content` 属性才会有效果
:::



## 选择器优先级

### 各种情况下的优先级（从高至底）

1. `!important`
2. 内联样式
3. `id` 选择器
4. `class` 选择器/属性选择器/伪类
5. 标签/伪元素
6. 通配选择器(`*`), 关系选择器(`+`, `>`, `~`, ` `, `||`), 否定伪类(`:not()`)对优先级没有影响。但是，在 `:not()` 内部声明的选择器会影响优先级。
7. 声明在同一级别的样式，后面的会覆盖前面的，如经典的红蓝盒子例子
```html
<style lang="css">
  .box {
    width: 100px;
    height: 100px;
  }
  .blue {
    background-color: blue;
  }
  .red {
    background-color: red;
  }
</style>
<div class="box red blue"></div>
<div class="box blue red"></div>

<!-- 
  显示的结果是两个盒子的背景颜色都是红色，
  原因是设置背景色的选择器都是类选择器(具有相同的优先级)，
  显示的结果只会是后面定义的样式覆盖前面定义的样式。
-->
```


### 谨慎使用 !important

**不要使用：**

+ 不要在插件中使用
+ 不要在全站范围的 `CSS` 代码中使用
+ 优先使用样式规则的优先级来解决问题而不是总是 `!important`

**可以使用：**

+ 在需要覆盖全站或外部 `CSS` 的特定页面中使用
+ 在需要覆盖内联样式时使用